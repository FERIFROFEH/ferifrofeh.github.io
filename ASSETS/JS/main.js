!function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};window.mobileAndTabletcheck=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},window.checkRetina=function(){return(window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&2<=window.devicePixelRatio)&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},o.isMobile=window.mobileAndTabletcheck(),o.isRetina=window.checkRetina(),o.isTouch="ontouchstart"in window||navigator.maxTouchPoints,o.dpr=void 0!==window.devicePixelRatio?window.devicePixelRatio:1,o.IOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o.mouseX=0,o.mouseY=0,o.resize=function(){o.width=window.innerWidth,o.height=window.innerHeight,o.ratio=o.width/o.height,o.centerX=.5*o.width,o.centerY=.5*o.height},o.onTouchStart=function(e){e.targetTouches?(o.mouseX=e.targetTouches[0].clientX,o.mouseY=e.targetTouches[0].clientY):e.changedTouches&&(o.mouseX=e.changedTouches[0].clientX,o.mouseY=e.changedTouches[0].clientY)},o.onMouseMove=function(e){o.touch?e.targetTouches?(o.mouseX=e.targetTouches[0].clientX,o.mouseY=e.targetTouches[0].clientY):e.changedTouches&&(o.mouseX=e.changedTouches[0].clientX,o.mouseY=e.changedTouches[0].clientY):(o.mouseX=e.clientX,o.mouseY=e.clientY)}},function(e,t,i){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,i){var n=i.value;if("function"!=typeof n)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(o(n)));var r=!1;return{configurable:!0,get:function(){if(r||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof n)return n;var i=n.bind(this);return r=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return i},set:function(e){n=e,delete this[t]}}),r=!1,i},set:function(e){n=e}}}function r(e){var t;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){var i;"constructor"===t||"function"==typeof(i=Object.getOwnPropertyDescriptor(e.prototype,t)).value&&Object.defineProperty(e.prototype,t,n(e,t,i))})),e}function a(){return 1===arguments.length?r.apply(void 0,arguments):n.apply(void 0,arguments)}i.r(t),i.d(t,"boundMethod",(function(){return n})),i.d(t,"boundClass",(function(){return r})),i.d(t,"default",(function(){return a}))},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return xe})),i(7);var o=i(3),n=i.n(o);function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=t,this.id=t.getAttribute("id"),this.uid=this.id+"-"+(1e5*Math.random()|0);var o=t.querySelector(".post-type-portfolio");this.pageId=o?o.getAttribute("id"):this.id,this.startHide=new n.a,this.hidden=new n.a,this.startShow=new n.a,this.shown=new n.a,(this._previousPage=i)&&(i.isHidden||this._previousPage.hidden.add(this._onPreviousPageHidden.bind(this)))}var t,i;return t=e,(i=[{key:"init",value:function(){}},{key:"resize",value:function(){}},{key:"update",value:function(){}},{key:"destroy",value:function(){this.startShow.dispose(),this.shown.dispose(),this.startHide.dispose(),this.hidden.dispose(),this.dom.parentNode.removeChild(this.dom),this.isDestroyed=!0}},{key:"_onPreviousPageHidden",value:function(){this._previousPage=null}},{key:"show",value:function(){this.resize(),this.isHidden=!1,this.startShow.dispatch(),this._show()}},{key:"_show",value:function(){}},{key:"_shown",value:function(){this.isShown=!0,this.shown.dispatch(this)}},{key:"hide",value:function(e){this.isShown=!1,this.startHide.dispatch(),this._hide(e)}},{key:"_hide",value:function(){}},{key:"_hidden",value:function(){this.isHidden=!0,this.hidden.dispatch(this)}}])&&r(t.prototype,i),e}();function s(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=t,this.scrolled=new n.a}var t,i;return t=e,(i=[{key:"destroy",value:function(){}},{key:"enabled",set:function(e){this.isLocked=!e},get:function(){return!this.isLocked}}])&&s(t.prototype,i),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f,y,g=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,l);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,r=p(e);return o=this,!(n=t?(i=p(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments))||"object"!==c(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.apply(this,arguments);var n=document.documentElement,r=document.body;return n.style.overflowY="auto",r.style.overflowY="auto",t}return e=o,(t=[{key:"destroy",value:function(){h(p(o.prototype),"destroy",this).call(this)}},{key:"y",set:function(e){window.scrollTo(0,e)},get:function(){return window.scrollY||window.pageYOffset}}])&&u(e.prototype,t),o}(),m=i(0),v=i(9),w=i.n(v),b=i(4),_=i.n(b),k=i(1);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function M(e,t,i){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}x((f=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,l);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,r=O(e);return o=this,!(n=t?(i=O(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments))||"object"!==P(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(o);function o(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.apply(this,arguments)).thumb=n,t.prevent=r,t.vy=0,t.percent=0,t.x=0,t.y=t._y=0,t._easing=.5,t._friction=.2,t._frictionTouchRelease=.95,t.isLocked=!1,t._firstScroll=!0,t._mode="mouse",t._scrollify(),t}return e=o,(t=[{key:"resize",value:function(e){this.height=this.dom.clientHeight,this.boundingHeight=e||m.a.height,this._dummy&&m.a.mobile?this._dummy.style.display="none":this._dummy&&(this._dummy.style.display=null),this._applyConstrains(),this.update(!0)}},{key:"update",value:function(e,t){var i=0<arguments.length&&void 0!==e&&e,o=1<arguments.length&&void 0!==t?t:null;this.isLocked||(void 0!==this._y?(this.deltaY=this._y-this.y,i?(this.vy=0,this.y=this._y):"mouse"===this._mode?(this.vy+=this.deltaY*this._easing,this.y+=this.vy*=this._friction):"touch"===this._mode&&(this.dragging?(this.y+=this.deltaY,this.vy=this.y-this._oy):(this.y+=this.vy,this._y=this.y,this.vy*=this._frictionTouchRelease),this.y<0?(this.vy=0,this.y+=(0-this.y)*(this.dragging?.5:.125)):this.y>this.height-this.boundingHeight&&(this.vy=0,this.y+=(this.height-this.boundingHeight-this.y)*(this.dragging?.5:.125)),this.thumb&&this._updateThumbPosition())):this.y=this._y),this.y=(1e3*this.y|0)/1e3,this.preventDomUpdate||this._ox===this.x&&this._oy===this.y&&!i||this._updateDom(o),this.percent=this.y/(this.height-this.boundingHeight),this._ox=this.x,this._oy=this.y}},{key:"destroy",value:function(){this._dummy&&this._dummy.parentNode.removeChild(this._dummy),window.removeEventListener("scroll",this._onScroll),this.dom.removeEventListener("mousedown",this._onMouseDown),this.dom.removeEventListener("touchstart",this._onTouchStart),this.dom.removeEventListener("touchmove",this._onTouchMove),this.dom.removeEventListener("touchend",this._onTouchEnd),this.dom.removeEventListener(this._wheelEvent,this._onMouseScroll)}},{key:"reset",value:function(){this.y=this._y=this._oy=this.percent=0}},{key:"_updateDom",value:function(e){var t="translate3d("+this.x+"px,"+-this.y+"px,0)";e&&(t+=" "+e),w.a.transform(this.dom,t)}},{key:"_scrollify",value:function(){this.dom.style.position="fixed",this.dom.style.willChange="transform",this.thumb?this.thumb.scrolled.add(this._onScroll):(this._dummy=document.createElement("div"),this._dummy.style.position="absolute",this._dummy.style.top=0,this._dummy.style.left=0,this._dummy.style.width="1px",this._dummy.style.visibility="hidden",this.dom.parentNode.appendChild(this._dummy),window.addEventListener("scroll",this._onScroll,e)),this._wheelEvent="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=!!_.a.hasSupport&&{passive:!0};this.dom.addEventListener("mousedown",this._onMouseDown,e),this.dom.addEventListener("touchstart",this._onTouchStart,e),this.dom.addEventListener("touchmove",this._onTouchMove,!this.prevent&&e),this.dom.addEventListener("touchend",this._onTouchEnd,e),this.dom.addEventListener(this._wheelEvent,this._onMouseScroll,e)}},{key:"_applyConstrains",value:function(){var e=this.height-this.boundingHeight;this._y<0||this.height<=m.a.height?this._y=0:this._y>e&&(this._y=e)}},{key:"_updateThumbPosition",value:function(){this.height>this.boundingHeight&&(this.thumb.percent=this._y/(this.height-this.boundingHeight))}},{key:"_onMouseDown",value:function(){this._mode="mouse"}},{key:"_onMouseScroll",value:function(e){this._mode="mouse",e.stopPropagation(),this.thumb&&(this._y+=e?1===e.deltaMode?20*e.deltaY:e.deltaY:0,this._applyConstrains(),this._updateThumbPosition())}},{key:"_onTouchStart",value:function(e){this._mode="touch",e.stopPropagation(),this.dragging=!0;var t=e.touches[0]||e.changedTouches[0];this._touchy=t.pageY}},{key:"_onTouchMove",value:function(e){var t,i;this.isLocked||(e.stopPropagation(),this.prevent&&e.preventDefault(),t=e.touches[0]||e.changedTouches[0],i=this._touchy||0,this._touchy=t.pageY,this._y+=i-this._touchy)}},{key:"_onTouchEnd",value:function(){this.dragging=!1}},{key:"_onScroll",value:function(){var e;this.isLocked||(this._y=this.thumb?this.thumb.percent*(this.height-this.boundingHeight):window.scrollY||window.pageYOffset,e=this._firstScroll,this._firstScroll?(this.y=this._oy=this._y,this._firstScroll=!1,this.update(!0),this.firstScrolled.dispatch()):this._y||(this._firstScroll=!1),this.scrolled.dispatch(e))}},{key:"enabled",set:function(e){e?(this.dom.style.willChange="transform",this._dummy&&(this._dummy.style.display=null),this.thumb||window.scrollTo(0,this.y)):(this._dummy&&(this._dummy.style.display="none"),this.dom.style.willChange=null),this.isLocked=!e},get:function(){return!this.isLocked}},{key:"height",set:function(e){this._height=e,this._dummy&&(this._dummy.style.height=this._height+"px")},get:function(){return this._height}}])&&T(e.prototype,t),o}()).prototype,"_onMouseDown",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onMouseDown"),f.prototype),x(f.prototype,"_onMouseScroll",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onMouseScroll"),f.prototype),x(f.prototype,"_onTouchStart",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onTouchStart"),f.prototype),x(f.prototype,"_onTouchMove",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onTouchMove"),f.prototype),x(f.prototype,"_onTouchEnd",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onTouchEnd"),f.prototype),x(f.prototype,"_onScroll",[k.default],Object.getOwnPropertyDescriptor(f.prototype,"_onScroll"),f.prototype);var C=(j((y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,l);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,r=R(e);return o=this,!(n=t?(i=R(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments))||"object"!==L(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.apply(this,arguments)).y=window.scrollY||window.pageYOffset,n.scrollVel=0,n._page=t,n.isMobile||(n.bindImagesLoad(),n.checkPageHeight(),setTimeout(n.checkPageHeight,60)),n}return e=o,(t=[{key:"resize",value:function(){var e=this.dom.clientHeight;this.pageHeight=e,document.body.style.height=this.pageHeight+"px"}},{key:"destroy",value:function(){M(R(o.prototype),"destroy",this).call(this)}},{key:"bindImagesLoad",value:function(){for(var e=this,t=this.dom.querySelectorAll("img"),i=0,o=t.length;i<o;i++)t[i].addEventListener("load",(function(t){e.dom.clientHeight!==e.pageHeight&&(e.pageHeight=e.dom.clientHeight,document.body.style.height=e.pageHeight+"px",e._page.delScrollAnims())}))}},{key:"checkPageHeight",value:function(){var e=document.documentElement,t=document.body,i=this.dom.clientHeight;i<=m.a.height?e.style.overflowY="hidden":(e.style.overflowY="auto",this.dom.style.position="fixed",this.pageHeight&&this.pageHeight==i||(this.pageHeight=i,t.style.height=this.pageHeight+"px",this.delScrollAnims()))}},{key:"delScrollAnims",value:function(){this._page.delScrollAnims&&this._page.delScrollAnims()}},{key:"resetScroll",value:function(){var e=document.documentElement,t=document.body;e.style.overflowY="auto",t.style.height=this.pageHeight+"px",window.scrollTo(0,this.y),this.enabled=!0}},{key:"update",value:function(){var e;this.isLocked||(e=window.scrollY||window.pageYOffset,Math.round(this.y)!=e&&(TweenLite.to(this,.79,{_y:e,ease:Power3.easeOut,onUpdate:this.updateScroll}),TweenLite.to(this,.79,{scrollVel:this.y-this._lastY,ease:Power4.easseOut}),this._lastY=e))}},{key:"updateScroll",value:function(){var e;this.y=this._y,this._page._scrollTL?(e=this.y/(this.pageHeight-m.a.height),this._page._scrollTL.progress(e)):TweenLite.set(this.dom,{y:-this._y})}},{key:"scrollRatio",get:function(){return this.y/(this.pageHeight-m.a.height)}}])&&D(e.prototype,t),o}()).prototype,"checkPageHeight",[k.default],Object.getOwnPropertyDescriptor(y.prototype,"checkPageHeight"),y.prototype),j(y.prototype,"updateScroll",[k.default],Object.getOwnPropertyDescriptor(y.prototype,"updateScroll"),y.prototype),y),I=i(10),X=i.n(I);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function B(e,t,i){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F,q=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(o,a);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,r=A(e);return o=this,!(n=t?(i=A(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments))||"object"!==Y(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(o);function o(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,(t=[{key:"init",value:function(){B(A(o.prototype),"init",this).call(this),this._initScrolling()}},{key:"_initScrolling",value:function(){var e=this.dom.querySelector(".scrollable");e&&"touchOnly"!==X.a.deviceType?this.scrollable=new C(e,this):this.scrollable=new g(e)}},{key:"resize",value:function(){B(A(o.prototype),"resize",this).call(this),this.scrollable&&this.scrollable.resize&&(this.scrollable.resize(),this.height=this.scrollable.height)}},{key:"update",value:function(e){B(A(o.prototype),"update",this).call(this),this.scrollable&&this.scrollable.update&&this.scrollable.update()}},{key:"destroy",value:function(){B(A(o.prototype),"destroy",this).call(this),this.scrollable&&this.scrollable.destroy()}},{key:"hide",value:function(e){B(A(o.prototype),"hide",this).call(this,e),this.scrollable&&(this.scrollable.isLocked=!0)}}])&&z(e.prototype,t),o}(),G=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=document.body.querySelector("header"),this.menuItems=this.dom.querySelectorAll(".menu__item")};function N(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var U,K,V,W,Q,J,Z=(U=(F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=document.body.querySelector("footer")}var t,i;return t=e,(i=[{key:"initKonami",value:function(){console.log("initKonami"),TweenLite.fromTo(this.dom,1.5,{y:.1*m.a.height},{y:0,ease:Expo.easeInOut,onComplete:this.startLoading}),this.dom.innerHTML='<div class="konami__loading">LOADING</div><div class="konami__btn"></div>',this.loadingText=this.dom.querySelector(".konami__loading"),this.btn=this.dom.querySelector(".konami__btn"),TweenLite.set(this.btn,{y:.1*m.a.height}),this._colors=["hsl(75, 100%, 50%)","hsl(150, 100%, 50%)","hsl(30, 100%, 50%)","hsl(170, 100%, 50%)","hsl(324, 100%, 50%)"],this._colorIndex=0,this.animateColors()}},{key:"startLoading",value:function(){window.coverflow.loadAssets()}},{key:"onLoadingDone",value:function(){var e=this;TweenLite.to(this.loadingText,.5,{autoAlpha:0,ease:Power2.easeOut,onComplete:function(){e._colorTween.kill()}}),TweenLite.to(this.btn,1.5,{y:0,ease:Expo.easeInOut})}},{key:"animateColors",value:function(){this._colorIndex>this._colors.length-1&&(this._colorIndex=0),this._colorTween=TweenLite.to(this.loadingText,.05,{foo:1,onComplete:this.animateColors}),TweenLite.set(this.loadingText,{color:"hsl("+360*Math.random()+", 100%, 50%)"}),this._colorIndex++}}])&&N(t.prototype,i),e}()).prototype,K="animateColors",V=[k.default],W=Object.getOwnPropertyDescriptor(F.prototype,"animateColors"),Q=F.prototype,J={},Object.keys(W).forEach((function(e){J[e]=W[e]})),J.enumerable=!!J.enumerable,J.configurable=!!J.configurable,("value"in J||J.initializer)&&(J.writable=!0),J=V.slice().reverse().reduce((function(e,t){return t(U,K,e)||e}),J),Q&&void 0!==J.initializer&&(J.value=J.initializer?J.initializer.call(Q):void 0,J.initializer=void 0),void 0===J.initializer&&(Object.defineProperty(U,K,J),J=null),F);function $(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,$),this.index=0,this.telIndex=0,this.lyrics=["No, no no no no no, SeÃ±or!","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Baila, borriquito","Baila, borriquito oh oh","Baila, borriquito","Baila, borriquito oh oh","(Telefone)","-si?","-Hello, can I speak to mister Don Quichotte, please?","-No seÃ±or, Don Quixote y Sancho Panza no estan aqui!","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","No, no no no no no no, no no, SeÃ±or!","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Baila, borriquito","Baila, borriquito oh oh","Baila, borriquito","Baila, borriquito oh oh","(Telefone)","-What's going on? You've got all you fame, I feel crazy!","-No seÃ±or, Don Quixote y Sancho Panza no estan aqui!","Don Quixote y Sancho Panza","Hoy tambien siguen luchando","Don Quixote y Sancho Panza","Hoy tambien siguen luchando"],this.telephone=["(Telefone)","si?","Hello can I speak to mister Don Quichotte please?","No seÃ±or Don Quixote y Sancho Panza no estan aqui!"];for(var e=[],t=0;t<this.lyrics.length;t++)for(var i=this.lyrics[t].split(" "),o=0;o<i.length;o++){var n=i[o];e.push(n)}this.lyrics=e,e=[];for(var r=0;r<this.telephone.length;r++)for(var a=this.telephone[r].split(" "),s=0;s<a.length;s++){var l=a[s];e.push(l)}this.telephone=e}function ee(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var te,ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coverflow=t,this.fxLayer=t.fxLayer,this.danceAmp=1}var t,i;return t=e,(i=[{key:"animate",value:function(e){var t,i,o=this,n=16777215*Math.random();0!=e&&2!=e||this.coverflow.setBackgroundColor(n,!1),this.coverflow.sounds.bar<2||(n=16777215*Math.random(),t=1.5,e%2==0&&(t+=5*Math.random()),t*=this.danceAmp,TweenLite.to(this.coverflow.title,0,{color:n,ease:Power4.easeOut}),this.coverflow.titleSpan.style.transform="translateX(-50%) scale("+t+")",i=.3*m.a.height*this.danceAmp,e%4==2&&(i*=.5),this.coverflow.items.forEach((function(t,n){1==e||3==e?(t._data.initY=0,t._data.rp=+o.danceAmp):0==e?n%2==0?(t._data.initY=-i,t._data.rp=-2*o.danceAmp):(t._data.initY=i,t._data.rp=2*o.danceAmp):2==e&&(n%2==0?(t._data.initY=i,t._data.rp=2*o.danceAmp):(t._data.initY=-i,t._data.rp=-2*o.danceAmp))})),this.dancingImages&&this.dancingImages.forEach((function(t,i){e%2==0?TweenLite.set(t,{scaleX:-1}):TweenLite.set(t,{scaleX:1}),e%3==0?TweenLite.set(t._parent,{scale:.6}):TweenLite.set(t._parent,{scale:.7})})))}},{key:"changeScene",value:function(e){this.fxLayer.changeScene(e)}},{key:"animateMidi",value:function(e){84==e.midi?this.coverflow.song.telIndex=0:85==e.midi?this.fxLayer.addText():this.fxLayer.throwImage()}},{key:"reset",value:function(){this.fxLayer.clearScene(),this.coverflow.titleSpan.style.transform="translateX(-50%)"}},{key:"initDancingImages",value:function(e){this.dancingImages=e,this.dancingImages.forEach((function(e){e._parent=e.parentNode}))}}])&&ee(t.prototype,i),e}();function oe(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var re,ae=(ne((te=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coverflow=t,this.metronome=!1,this.bar=0,this.file="dqc_120.m4a",this.startPoint="0:0:0",this.cuePoints=["00:0:0","05:0:0","19:0:0","22:0:0","30:0:0","48:0:0","67:0:0","75:0:0","96:0:0"],this.animations=new ie(t),this.lowpass=new Tone.Filter({type:"lowpass",frequency:22e3,rolloff:-12,Q:1,gain:0}),Tone.Master.chain(this.lowpass);var o=(new Tone.Synth).toMaster(),n=this;this.loop=new Tone.Sequence((function(e,t){var r=Tone.Transport.position.split(":"),a=r[0],s=r[1];n.bar=a,i.metronome&&(0==s?o.triggerAttackRelease("D7","32n",e,1.2):o.triggerAttackRelease("D6","32n",e,1.1)),Tone.Draw.schedule((function(){n.animations.animate(s)}),e)}),[0],"4n").start(0),new Tone.Event((function(){console.log("Track end"),i.pause(),i.rewind(!0),window.gtag&&window.gtag("event","end_konami")})).start("101:0:0"),new Tone.Event((function(){window.gtag&&window.gtag("event","tel_break")})).start("30:0:0"),window.addEventListener("keypress",this.onKeyPressed),this.loadMidi(),this.loadTrack(),this._bpm=120}var t,i;return t=e,(i=[{key:"init",value:function(){var e=window.main._pageManager._page;"single"==e.id&&e.initSoundAnimations()}},{key:"onKeyPressed",value:function(e){var t;e.shiftKey&&49<=e.keyCode&&e.keyCode<=57&&(t=e.keyCode-49,this.cuePoints[t]&&(this.animations.fxLayer.clearScene(),Tone.Transport.position=this.cuePoints[t],TweenLite.set(this.animations.fxLayer.canvas,{alpha:1}),this.animations.danceAmp=1)),32==e.keyCode&&this.pause(),104==e.keyCode&&(this._showGui?(window.gtag&&window.gtag("event","hide_gui"),this._showGui=!1):(window.gtag&&window.gtag("event","show_gui"),this._showGui=!0))}},{key:"loadMidi",value:function(){var e=this;new Tone.PolySynth(8).toMaster(),MidiConvert.load(templateUrl+"/library/media/events.mid",(function(t){new Tone.Part((function(t,i){Tone.Draw.schedule((function(){e.animations.animateMidi(i)}),t)}),t.tracks[0].notes).start()})),MidiConvert.load(templateUrl+"/library/media/scenes.mid",(function(t){new Tone.Part((function(t,i){Tone.Draw.schedule((function(){e.animations.changeScene(i)}),t)}),t.tracks[0].notes).start(),new Tone.Part((function(t,i){TweenLite.set(e.animations.fxLayer.canvas,{alpha:i.value})}),t.tracks[0].controlChanges[20]).start(),new Tone.Part((function(t,i){e.animations.danceAmp=i.value}),t.tracks[0].controlChanges[21]).start()}))}},{key:"loadTrack",value:function(){var e=this;Tone.context.decodeAudioData(this.coverflow.loader.resources.audioTrack.data).then((function(t){e.track1=new Tone.Player(t).sync().toMaster(),e.onLoad()})),this.coverflow.musicBtn.style.opacity=.25}},{key:"onLoad",value:function(){window.main._pageManager._page.footer.onLoadingDone(),this.isLoaded=!0,this.init()}},{key:"pause",value:function(){this.isLoaded&&this.hasStarted&&(this.isPlaying?(this.isPlaying=!1,this.coverflow.isPlaying=!1,Tone.Transport.pause(),this.coverflow.musicBtn.style.opacity=.25,document.body.classList.remove("dancing"),TweenLite.to(this.coverflow.holder,1.7,{alpha:1,ease:Expo.easeOut}),this.animations.reset(),window.gtag&&window.gtag("event","pause_track")):(this.isPlaying=!0,this.coverflow.isPlaying=!0,Tone.Transport.start(),this.coverflow.musicBtn.style.opacity=.75,document.body.classList.add("dancing"),TweenLite.to(this.coverflow.holder,1.2,{alpha:.541,ease:Expo.easeOut}),window.gtag&&window.gtag("event","play_track")))}},{key:"rewind",value:function(e){0<arguments.length&&void 0!==e&&e?Tone.Transport.position="0:0:0":(Tone.Transport.position=this.startPoint,this.isPlaying||this.pause())}},{key:"start",value:function(){"running"!==Tone.context.state&&Tone.context.resume(),this.coverflow.musicBtn.style.opacity=.75,TweenLite.to(this.coverflow.holder,1.7,{alpha:.541,ease:Expo.easeOut}),this.bar=0,this.isPlaying=!0,this.coverflow.isPlaying=!0,this.track1.start(),Tone.Transport.start(),document.body.classList.add("dancing"),this.hasStarted=!0,window.gtag&&window.gtag("event","start_konami")}},{key:"bpm",get:function(){return this._bpm},set:function(e){this.track1&&(this._bpm=e,this.track1.playbackRate=e/120,Tone.Transport.bpm.value=e)}}])&&oe(t.prototype,i),e}()).prototype,"onKeyPressed",[k.default],Object.getOwnPropertyDescriptor(te.prototype,"onKeyPressed"),te.prototype),ne(te.prototype,"onLoad",[k.default],Object.getOwnPropertyDescriptor(te.prototype,"onLoad"),te.prototype),te),se={closed:!1,preset:"Default",remembered:{Default:{0:{testMode:!1,mode:"images",blendMode:"normal",scaleDelta:0,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.5,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.8,timeScale:0,swapLayers:!1,imageLimit:0}},windows95:{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:0,xDelta:-.793,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.18,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.8200000000000001,timeScale:1.561,swapLayers:!1,imageLimit:5}},windows98:{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.11,xDelta:0,yDelta:-.065,rotDelta:0,fadeDelta:0,imageScale:.306,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.668,timeScale:1,swapLayers:!1,imageLimit:5}},"windows95 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.011,xDelta:-.793,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.18,applyColor:!1,colorHue:4.084094433913493,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.729739252995067,applyGravity:!0,gravity:.8200000000000001,timeScale:1.561,swapLayers:!1,imageLimit:5}},"windows98 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.146,xDelta:0,yDelta:.28800000000000003,rotDelta:0,fadeDelta:0,imageScale:.306,applyColor:!1,colorHue:0,applyRgbSplit:!0,rgbRedX:-1.72,rgbRedY:1.59,rgbGreenX:1.77,rgbGreenY:1.72,rgbBlueX:0,rgbBlueY:-1.6300000000000001,applyDismap:!1,dismapRotDelta:0,dismapScale:2.1328623125969326,applyGravity:!0,gravity:.668,timeScale:1,swapLayers:!1,imageLimit:5}},"kaleido 1":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.33,xDelta:0,yDelta:0,rotDelta:-1,fadeDelta:0,imageScale:.14100000000000001,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.318,timeScale:.629,swapLayers:!1,imageLimit:20}},"kaleido 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.187,xDelta:0,yDelta:0,rotDelta:.28800000000000003,fadeDelta:0,imageScale:.23,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.318,timeScale:.519,swapLayers:!1,imageLimit:20}},"abstract 1":{0:{testMode:!1,mode:"images",blendMode:"difference",scaleDelta:0,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:.021,imageScale:.34,applyColor:!0,colorHue:2.4841437632135306,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:1.5,applyGravity:!1,gravity:.625,timeScale:.243,swapLayers:!0,imageLimit:15}},"abstract 2":{0:{testMode:!1,mode:"images",blendMode:"difference",scaleDelta:.023,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.11900000000000001,applyColor:!0,colorHue:2.4841437632135306,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.5,applyGravity:!1,gravity:.625,timeScale:.243,swapLayers:!1,imageLimit:15}},"abstract 3":{0:{testMode:!1,mode:"images",blendMode:"normal",scaleDelta:.1,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:.044,imageScale:.20700000000000002,applyColor:!0,colorHue:2.4841437632135306,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.5042219541616406,applyGravity:!1,gravity:.625,timeScale:.243,swapLayers:!0,imageLimit:15}},"tunnel 1":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.308,xDelta:0,yDelta:.112,rotDelta:-.179,fadeDelta:0,imageScale:3,applyColor:!1,colorHue:2.4841437632135306,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:2.372445384073291,applyGravity:!0,gravity:.759,timeScale:1.291,swapLayers:!0,imageLimit:10}},"tunnel 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.5,xDelta:0,yDelta:.112,rotDelta:.249,fadeDelta:0,imageScale:3,applyColor:!1,colorHue:50,applyRgbSplit:!1,rgbRedX:-.72,rgbRedY:-1.98,rgbGreenX:1.72,rgbGreenY:1.76,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:2.372445384073291,applyGravity:!1,gravity:.759,timeScale:.40800000000000003,swapLayers:!0,imageLimit:10}},"tunnel 3":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:-.5,xDelta:0,yDelta:.112,rotDelta:0,fadeDelta:0,imageScale:3,applyColor:!1,colorHue:50,applyRgbSplit:!1,rgbRedX:-.72,rgbRedY:-1.98,rgbGreenX:1.72,rgbGreenY:1.76,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!1,dismapRotDelta:0,dismapScale:2.372445384073291,applyGravity:!1,gravity:.759,timeScale:.40800000000000003,swapLayers:!0,imageLimit:10}},"mask 1":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.045,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.7,applyColor:!1,colorHue:0,applyRgbSplit:!1,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.5,applyGravity:!0,gravity:.8,timeScale:0,swapLayers:!1,imageLimit:0}},"mask 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.045,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.7000000000000001,applyColor:!0,colorHue:2,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1,applyGravity:!0,gravity:.8,timeScale:0,swapLayers:!1,imageLimit:0}},"psy 1":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.056,xDelta:0,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.274,applyColor:!1,colorHue:0,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.729739252995067,applyGravity:!0,gravity:.668,timeScale:1,swapLayers:!1,imageLimit:5}},"colorfull 1":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.057,xDelta:0,yDelta:-.065,rotDelta:0,fadeDelta:0,imageScale:.306,applyColor:!1,colorHue:9.249471458773785,applyRgbSplit:!0,rgbRedX:2,rgbRedY:-1.71,rgbGreenX:-1.03,rgbGreenY:.5,rgbBlueX:1.4000000000000001,rgbBlueY:-.5,applyDismap:!0,dismapRotDelta:0,dismapScale:1.729739252995067,applyGravity:!0,gravity:.668,timeScale:1,swapLayers:!1,imageLimit:5}},"colorfull 2":{0:{testMode:!1,mode:"images",blendMode:"hard-light",scaleDelta:.028,xDelta:-.495,yDelta:0,rotDelta:0,fadeDelta:0,imageScale:.18,applyColor:!0,colorHue:4.084094433913493,applyRgbSplit:!0,rgbRedX:-.5,rgbRedY:.5,rgbGreenX:.5,rgbGreenY:.5,rgbBlueX:0,rgbBlueY:-1.44,applyDismap:!0,dismapRotDelta:0,dismapScale:1.729739252995067,applyGravity:!0,gravity:.8200000000000001,timeScale:1.561,swapLayers:!1,imageLimit:5}}},folders:{}};function le(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ce(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var ue=(ce((re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coverflow=t,this.canvas=document.createElement("canvas"),this.canvas.className="fxLayer",document.body.appendChild(this.canvas),this.init()}var t,i;return t=e,(i=[{key:"init",value:function(){this.currentPresset="Default",this.testMode=!1,this.mode="images",this.blendMode="normal",this.frame=1,this.imageLimit=10,this.swapLayers=!1,this._swapedLayer="top",this.gravity=.8,this.timeScale=1,this.xDelta=0,this.yDelta=0,this.scaleDelta=0,this.rotDelta=0,this.fadeDelta=.04,this.imageScale=.5,this.typoScale=.5,this.applyGravity=!0,this.sizeRatio=1.875,this.scrollSpeed=0,this.buildImageList(),this.initScene(),this.initGui(),window.addEventListener(m.a.touch?"touchstart":"mousedown",this.onClick)}},{key:"initScene",value:function(){PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.LINEAR,this.renderer=PIXI.autoDetectRenderer(m.a.width,m.a.height,{view:this.canvas,transparent:!0,resolution:m.a.isRetina?2:1,antialias:!1,roundPixels:!0,forceFXAA:!0}),this.stage=new PIXI.Container,this.renderTexture=PIXI.RenderTexture.create(m.a.width,m.a.height),this.renderTexture2=PIXI.RenderTexture.create(m.a.width,m.a.height),this.currentTexture=this.renderTexture,this.feedback=new PIXI.Sprite(this.currentTexture),this.feedback.x=m.a.centerX,this.feedback.y=m.a.centerY,this.feedback.anchor.set(.5),this.applyColor=!1,this.colorFilter=new PIXI.filters.ColorMatrixFilter,this.colorHue=0,this.applyRgbSplit=!1,this.rgbSplitFilter=new PIXI.filters.RGBSplitFilter,this.rgbRedX=-.5,this.rgbRedY=.5,this.rgbGreenX=.5,this.rgbGreenY=.5,this.rgbBlueX=0,this.rgbBlueY=-.5,this.applyDismap=!1,this.displacementSprite=PIXI.Sprite.fromImage(templateUrl+"/library/media/dismap/nm-01.jpg"),this.displacementSprite.anchor.set(.5),this.displacementFilter=new PIXI.filters.DisplacementFilter(this.displacementSprite),this.stage.addChild(this.displacementSprite),this.displacementFilter.padding=200,this.displacementFilter.scale.x=5,this.displacementFilter.scale.y=5,this.dismapRotDelta=0,this.dismapScale=1.5,this.scene=new PIXI.Container,this.stage.addChild(this.feedback),this.stage.addChild(this.scene),this.movieclips=[],this.currentImg=void 0,this.resize()}},{key:"initGui",value:function(){this.gui=new dat.GUI({load:se}),this.gui.remember(this),this.gui.close(),window._isProd&&dat.GUI.toggleHide(),this.gui.add(this,"testMode"),this.gui.add(this,"mode",["images","typo","video"]),this.gui.add(this,"blendMode",["normal","hard-light","overlay","difference"]).onChange(this.setBlendMode);var e=this.gui.addFolder("Transforms");e.add(this,"scaleDelta",-.5,.5).step(.001),e.add(this,"xDelta",-1,1).step(.001),e.add(this,"yDelta",-1,1).step(.001),e.add(this,"rotDelta",-1,1).step(.001),e.add(this,"fadeDelta",0,.3).step(.001),e.add(this,"imageScale",0,2).step(.01),e.add(this,"typoScale",0,4).step(.01),(e=this.gui.addFolder("Color Matrix")).add(this,"applyColor"),e.add(this,"colorHue",0,50),(e=this.gui.addFolder("Rgb Split")).add(this,"applyRgbSplit"),e.add(this,"rgbRedX",-2,2).step(.01),e.add(this,"rgbRedY",-2,2).step(.01),e.add(this,"rgbGreenX",-2,2).step(.01),e.add(this,"rgbGreenY",-2,2).step(.01),e.add(this,"rgbBlueX",-2,2).step(.01),e.add(this,"rgbBlueY",-2,2).step(.01),(e=this.gui.addFolder("Dismap")).add(this,"applyDismap"),e.add(this.displacementFilter.scale,"x",-100,100).step(.5),e.add(this.displacementFilter.scale,"y",-100,100).step(.5),e.add(this,"dismapRotDelta",-1,1).step(.001),e.add(this,"dismapScale",1,20),(e=this.gui.addFolder("Physics")).add(this,"applyGravity"),e.add(this,"gravity",0,2).step(.001),e.add(this,"timeScale",0,5).step(.001),this.gui.add(this,"swapLayers"),this.gui.add(this,"imageLimit",0,50).step(1),this.gui.add(this,"clearScene"),this.gui.domElement.style.userSelect="none"}},{key:"update",value:function(){var e=this;this.mouseCheck(),this.bpmScale=this.coverflow.sounds.bpm/120,this.swapLayers?"bottom"!=this._swapedLayer&&(this.stage.swapChildren(this.scene,this.feedback),this._swapedLayer="bottom"):"top"!=this._swapedLayer&&(this.stage.swapChildren(this.scene,this.feedback),this._swapedLayer="top"),this._colorChanged!=this.backgroundColor&&(this._colorChanged=this.backgroundColor);var t=this.renderTexture;this.renderTexture=this.renderTexture2,this.renderTexture2=t,this.feedback.texture=this.renderTexture,null!=this.currentImg&&(this.currentImg.x=m.a.mouseX,this.currentImg.y=m.a.mouseY,this.currentImg._typo?this.currentImg.scale.x=this.currentImg.scale.y=this.typoScale*this.stageHeihtRatio:this.currentImg.scale.x=this.currentImg.scale.y=this.imageScale*this.stageHeihtRatio*this.sizeRatio),this.movieclips.forEach((function(t,i){var o,n;t.x+=t._speedX*e.timeScale*e.bpmScale,t.y+=t._speedY*e.timeScale*e.bpmScale,e.applyGravity?t._speedY+=(e.gravity+.2*e.stageHeihtRatio2)*e.timeScale*e.bpmScale:t.y<0&&(t._speedY=-t._speedY,o=10*(.5*Math.random()+.5),t._speedX=0<t._speedX?o:-o),t.y>m.a.height&&(t._speedY=-t._speedY,t._speedY=-(10*Math.random()+20),e.applyGravity||(n=20*(.5*Math.random()+.5),t._speedX=0<t._speedX?n:-n)),t.x<0&&(t._speedX=-t._speedX,e.applyGravity?t._speedX=5*(.5*Math.random()+.5):t._speedX=10*(.5*Math.random()+.5)),t.x>m.a.width&&(t._speedX=-t._speedX,e.applyGravity?t._speedX=5*-(.5*Math.random()+.5):t._speedX=10*-(.5*Math.random()+.5)),t._typo?t.scale.x=t.scale.y=e.typoScale*e.stageHeihtRatio:t.scale.x=t.scale.y=e.imageScale*e.stageHeihtRatio*e.sizeRatio})),"tunnel 1"==this.gui.preset||"tunnel 2"==this.gui.preset||"tunnel 3"==this.gui.preset||"kaleido 1"==this.gui.preset||"kaleido 2"==this.gui.preset?this.feedback.rotation-=this.rotDelta-.07*m.a.mouseRatioX:this.feedback.rotation-=this.rotDelta,this.feedback.alpha-=this.fadeDelta*this.timeScale*this.bpmScale,"Default"==this.gui.preset||"kaleido 1"==this.gui.preset||"kaleido 2"==this.gui.preset?this.feedback.x+=10*this.xDelta*this.timeScale*this.bpmScale:this.feedback.x+=10*this.xDelta*this.timeScale*this.bpmScale+.5*this.coverflow.velX,this.feedback.y+=10*this.yDelta*this.timeScale*this.bpmScale,this.feedback.scale.x=this.feedback.scale.y=1+.25*this.scaleDelta;var i=[];this.applyColor&&(this.colorFilter.hue(this.colorHue),i.push(this.colorFilter)),this.applyRgbSplit&&(this.rgbSplitFilter.red=[this.rgbRedX,this.rgbRedY],this.rgbSplitFilter.green=[this.rgbGreenX,this.rgbGreenY],this.rgbSplitFilter.blue=[this.rgbBlueX,this.rgbBlueY],i.push(this.rgbSplitFilter)),this.applyDismap&&(this.displacementSprite.width=m.a.width*this.dismapScale,this.displacementSprite.height=m.a.height*this.dismapScale,this.displacementSprite.rotation+=.01*this.dismapRotDelta,i.push(this.displacementFilter)),this.feedback.filters=i,this.renderer.render(this.stage,this.renderTexture2,!0),this.feedback.rotation=0,this.alpha=1,this.feedback.alpha=1,this.feedback.x=m.a.centerX,this.feedback.y=m.a.centerY,this.feedback.scale.x=this.feedback.scale.y=1,this.feedback.filters=[],this.renderer.render(this.stage),this.frame+=1;for(var o=this.movieclips.length;o>this.imageLimit;){var n=this.movieclips.shift();this.deleteMc(n),o--}}},{key:"buildImageList",value:function(){this.imageIndex=0,this.imageList=[];for(var e=0;e<this.coverflow.items.length;e++){var t=this.coverflow.loader.resources["img"+e];this.imageList.push(t.texture)}}},{key:"getNextImage",value:function(){var e=this.imageList[this.imageIndex];return this.imageIndex++,this.imageIndex>=this.imageList.length&&(this.imageIndex=0),e}},{key:"getRandomImage",value:function(){var e=Math.random()*this.coverflow.items.length;return this.coverflow.items[Math.floor(e)]}},{key:"throwImage",value:function(){this.stopDrag();var e=new PIXI.Container,t=this.getNextImage(),i=PIXI.Sprite.from(t);i.anchor.set(.5),i.width=t.orig.width*this.stageHeihtRatio,i.height=t.orig.height*this.stageHeihtRatio,"tunnel 1"==this.gui.preset||"tunnel 2"==this.gui.preset||"tunnel 3"==this.gui.preset||"mask 1"==this.gui.preset?(e.x=m.a.centerX,e.y=m.a.centerY,e.y=m.a.centerY):"abstract 2"==this.gui.preset?(e.x=Math.random()*m.a.width,e.y=Math.random()*m.a.height):(e.x=m.a.mouseX,e.y=m.a.mouseY);var o=Math.random()<.5?-1:1;e._speedX=5*(.5*Math.random()+.5)*o,e._speedY=10*-(+Math.random()+1),e.addChild(i),this.scene.addChild(e),this.movieclips.push(e),this.currentImg=void 0}},{key:"addText",value:function(){this.stopDrag();var e=new PIXI.TextStyle({fontFamily:"Main Bold",fontSize:400,fill:"#000000",stroke:"#ffffff",strokeThickness:20,wordWrap:!0,wordWrapWidth:m.a.centerX}),t=this.coverflow.song.telephone[this.coverflow.song.telIndex];this.coverflow.song.telIndex++,this.coverflow.song.telIndex>this.coverflow.song.telephone.length&&(this.coverflow.song.telIndex=0);var i=new PIXI.Container,o=new PIXI.Text(t,e);o.anchor.set(.5),i.x=m.a.mouseX,i.y=m.a.mouseY;var n=Math.random()<.5?-1:1;i._speedX=5*(.5*Math.random()+.5)*n,i._speedY=10*(+Math.random()+1),i.addChild(o),this.scene.addChild(i),i._typo=!0,this.currentImg=i}},{key:"addImage",value:function(){var e,t=new PIXI.Container;switch(this.mode){case"typo":var i=new PIXI.TextStyle({fontFamily:"Main Bold",fontSize:400,fill:"#000000",stroke:"#ffffff",strokeThickness:20,wordWrap:!0,wordWrapWidth:m.a.centerX}),o=window.coverflow.song.lyrics[window.coverflow.song.index];window.coverflow.song.index++,window.coverflow.song.index>window.coverflow.song.lyrics.length&&(window.coverflow.song.index=0),n=new PIXI.Text(o,i),t._typo=!0;break;case"video":this.videoTexture||((e=document.createElement("video")).preload="auto",e.loop=!0,e.src=templateUrl+"/library/media/dance-loop.mp4",this.videoTexture=PIXI.Texture.fromVideo(e)),(n=new PIXI.Sprite(this.videoTexture)).width=960,n.height=720;break;default:var n,r=this.getNextImage();(n=PIXI.Sprite.from(r)).width=r.orig.width*this.stageHeihtRatio,n.height=r.orig.height*this.stageHeihtRatio}n.anchor.set(.5),t.x=m.a.mouseX,t.y=m.a.mouseY;var a=Math.random()<.5?-1:1;t._speedX=5*(.5*Math.random()+.5)*a,t._speedY=10*(+Math.random()+1),t.addChild(n),this.scene.addChild(t),this.currentImg=t}},{key:"changeScene",value:function(e){switch(e.velocity,0==e.midi&&this.clearScene(),e.midi){case 11:this.gui.preset="Default";break;case 12:this.gui.preset="windows95";break;case 13:this.gui.preset="windows98";break;case 14:this.gui.preset="kaleido 1";break;case 15:this.gui.preset="kaleido 2";break;case 16:this.gui.preset="colorfull 1";break;case 17:this.gui.preset="windows98 2";break;case 18:this.gui.preset="tunnel 1";break;case 19:this.gui.preset="tunnel 2";break;case 20:this.gui.preset="tunnel 3";break;case 21:this.gui.preset="abstract 1";break;case 22:this.gui.preset="abstract 2";break;case 23:this.gui.preset="abstract 3";break;case 24:this.gui.preset="mask 1";break;case 25:this.gui.preset="mask 2";break;case 26:this.gui.preset="colorfull 2";break;case 27:this.gui.preset="psy 1"}}},{key:"resize",value:function(){this.stageHeihtRatio=m.a.height/1024,this.stageHeihtRatio2=1-m.a.height/400,this.renderer.resize(m.a.width,m.a.height),this.renderTexture.resize(m.a.width,m.a.height,!1),this.renderTexture2.resize(m.a.width,m.a.height,!1),this.feedback.width=m.a.width,this.feedback.height=m.a.height,this.feedback.x=m.a.centerX,this.feedback.y=m.a.centerY,this.displacementSprite.x=m.a.centerX,this.displacementSprite.y=m.a.centerY}},{key:"onClick",value:function(){0!=this.testMode&&(this._preventNextClick?this._preventNextClick=!1:(this.addImage(this.getNextImage()),window.addEventListener(m.a.touch?"touchend":"mouseup",this.onRelease)))}},{key:"onRelease",value:function(){window.removeEventListener(m.a.touch?"touchend":"mouseup",this.onRelease),this.stopDrag()}},{key:"stopDrag",value:function(){this.currentImg&&(0<this.imageLimit?this.movieclips.push(this.currentImg):this.deleteMc(this.currentImg),this.currentImg=void 0)}},{key:"deleteMc",value:function(e){e.parent&&e.parent.removeChild(e),e.destroy()}},{key:"clearScene",value:function(){for(;0<this.scene.children.length;){var e=this.scene.getChildAt(0);this.scene.removeChild(e)}this.movieclips=[],this.feedback.alpha=0}},{key:"drawBackground",value:function(){var e=this._colorControl.__color.__state,t="rgb("+Math.round(e.r)+", "+Math.round(e.g)+","+Math.round(e.b)+")";this.background.clear(),this.background.beginFill(t,1),this.background.drawRect(0,0,m.a.width,m.a.height),this.background.endFill()}},{key:"setBlendMode",value:function(){this.canvas.style.mixBlendMode=this.blendMode}},{key:"mouseCheck",value:function(){m.a.mouseRatioX=(m.a.mouseX-m.a.centerX)/m.a.width*2,m.a.mouseRatioY=1-Math.abs((m.a.mouseY-m.a.centerY)/m.a.height*2)}}])&&le(t.prototype,i),e}()).prototype,"onClick",[k.default],Object.getOwnPropertyDescriptor(re.prototype,"onClick"),re.prototype),ce(re.prototype,"onRelease",[k.default],Object.getOwnPropertyDescriptor(re.prototype,"onRelease"),re.prototype),ce(re.prototype,"stopDrag",[k.default],Object.getOwnPropertyDescriptor(re.prototype,"stopDrag"),re.prototype),ce(re.prototype,"drawBackground",[k.default],Object.getOwnPropertyDescriptor(re.prototype,"drawBackground"),re.prototype),ce(re.prototype,"setBlendMode",[k.default],Object.getOwnPropertyDescriptor(re.prototype,"setBlendMode"),re.prototype),re);function he(e){var t,i,o,n,r,a,s,l,c,u,h,d=e.source,p=void 0===d?document:d,f=e.update,y=e.multiplier,g=void 0===y?1:y,m=e.friction,v=void 0===m?.92:m,w=e.initialValues,b=e.boundX,_=e.boundY,k=e.bounce,P=void 0===k||k;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,he);var T=0,S=0,O=.3*g,x=!1,L=!1,D=!1,M=!1,E=[];function R(){f.call(p,T,S)}function j(e){if("touchmove"!==e.type&&"touchstart"!==e.type&&"touchend"!==e.type)return{x:e.clientX,y:e.clientY,id:null};var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}function C(e){var t=j(e);L||D||(M=!(L=!0),c=t.id,r=s=t.x,a=l=t.y,E=[],z(r,a),document.addEventListener("touchmove",I,!!fe()&&{passive:!1}),document.addEventListener("touchend",X),document.addEventListener("touchcancel",Y),document.addEventListener("mousemove",I,!!fe()&&{passive:!1}),document.addEventListener("mouseup",X))}function I(e){e.preventDefault();var t=j(e);L&&t.id===c&&(s=t.x,l=t.y,z(r,a),x||pe(B),x=!0)}function X(e){var t=j(e);L&&t.id===c&&Y()}function Y(){L=!1,z(r,a),function(){var e=E[0],t=E[E.length-1],i=t.x-e.x,o=t.y-e.y,n=(t.time-e.time)/15/g;u=i/n||0,h=o/n||0;var r=A();(1<Math.abs(u)||1<Math.abs(h)||!r.inBounds)&&(M=!0,pe(F))}(),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",X),document.removeEventListener("touchcancel",Y),document.removeEventListener("mouseup",X),document.removeEventListener("mousemove",I)}function z(e,t){for(var i=Date.now();0<E.length&&!(i-E[0].time<=100);)E.shift();E.push({x:e,y:t,time:i})}function B(){var e,t=s-r,i=l-a;T+=t*g,S+=i*g,P?(0!==(e=A()).x&&(T-=t*H(e.x)*g),0!==e.y&&(S-=i*H(e.y)*g)):A(!0),R(),r=s,a=l,x=!1}function H(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function A(e){var r=0,a=0;return void 0!==t&&T<t?r=t-T:void 0!==i&&i<T&&(r=i-T),void 0!==o&&S<o?a=o-S:void 0!==n&&n<S&&(a=n-S),e&&(0!==r&&(T=0<r?t:i),0!==a&&(S=0<a?o:n)),{x:r,y:a,inBounds:0===r&&0===a}}function F(){var e,r,a;M&&(T+=u*=v,S+=h*=v,e=A(),Math.abs(u)>O||Math.abs(h)>O||!e.inBounds?(P?(0!==e.x&&(e.x*u<=0?u+=.04*e.x:(r=0<e.x?2.5:-2.5,u=.11*(e.x+r))),0!==e.y&&(e.y*h<=0?h+=.04*e.y:(a=0<e.y?2.5:-2.5,h=.11*(e.y+a)))):(0!==e.x&&(T=0<e.x?t:i,u=0),0!==e.y&&(S=0<e.y?o:n,h=0)),R(),pe(F)):M=!1)}!function(){if(!(p="string"==typeof p?document.querySelector(p):p))throw new Error("IMPETUS: source not found.");if(!f)throw new Error("IMPETUS: update function not defined.");w&&(w[0]&&(T=w[0]),w[1]&&(S=w[1]),R()),b&&(t=b[0],i=b[1]),_&&(o=_[0],n=_[1]),p.addEventListener("touchstart",C),p.addEventListener("mousedown",C)}(),this.destroy=function(){return p.removeEventListener("touchstart",C),p.removeEventListener("mousedown",C),null},this.getPointerActive=function(){return L},this.pause=function(){D=!(L=!1)},this.resume=function(){D=!1},this.setValues=function(e,t){"number"==typeof e&&(T=e),"number"==typeof t&&(S=t)},this.setMultiplier=function(e){O=.3*(g=e)},this.setBoundX=function(e){t=e[0],i=e[1]},this.setBoundY=function(e){o=e[0],n=e[1]}}window.addEventListener("touchmove",(function(){}));var de,pe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function fe(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return fe=function(){return e},e}function ye(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ge(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var me,ve=(ge((de=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.coverflow=t,this.globalDur=1.5,this._tlToKill=[]}var t,i;return t=e,(i=[{key:"intro",value:function(){TweenLite.to(this.coverflow.bg,2.5,{backgroundColor:"#EEEEEE",ease:Power2.easeInOut});for(var e=0;e<6;e++){var t=this.coverflow.items[e];e%2==1?TweenLite.set(t,{scale:1.1}):TweenLite.set(t,{scale:.9}),TweenLite.set(t,{x:(.1*m.a.width-.4*m.a.height)*e+.1*m.a.width,y:-Math.sin(.8*e)*m.a.height*.1,rotation:7.5*(e-1.5)}),TweenLite.fromTo(t._data,2,{initY:1.1*m.a.height},{initY:0,ease:Power4.easeInOut,onComplete:this.coverflow.enable,delay:.5}),TweenLite.to(t,2,{x:0,y:0,scale:1,rotation:0,ease:Expo.easeInOut,delay:2})}this.coverflow.show()}},{key:"reset",value:function(){for(var e=0;e<this.coverflow.items.length;e++){var t=this.coverflow.items[e];TweenLite.set(t._data,{initX:0,initY:0,initS:1})}TweenLite.set(this.coverflow.title,{autoAlpha:0,color:"#FFFFFF"}),TweenLite.set(this.coverflow.imagesHolder,{y:0}),TweenLite.set(this.coverflow.titleHolder,{y:0});var i=this.coverflow.x;i>this.coverflow.boundX[1]&&(i=this.coverflow.boundX[1]),i<this.coverflow.boundX[0]&&(i=this.coverflow.boundX[0]),TweenLite.set(this.coverflow,{x:i}),this.coverflow.updateDom2()}},{key:"openProject",value:function(e){this.clearTransitionTl(),this.clearCloseTl(),this.coverflow.isOpen=!0;var t=e._previousPage,i=this.getProjectItem(e.pageId);this.currentProject=i,this.coverflow.selectedProject=i;var o=m.a.centerX-i.rect.x-.5*i.rect.width,n=1e-5*Math.abs(this.coverflow.x-o),r=e.dom.querySelector(".portfolio-cover");r.rect=r.getBoundingClientRect(),r.rect.x=r.rect.left,r.rect.y=r.rect.top;var a,s=r.rect.width/i.rect.width,l=r.rect.y+.5*r.rect.height-m.a.centerY,c=r.rect.y-.013*m.a.width;this.currentProject.initY=this.currentProject._data.initY,this.currentProject.initS=this.currentProject._data.initS,t?(a=this.globalDur,"single"==t.id?(this.coverflow.hide(),this.coverflow.x=o,this.coverflow.updateDom2(),i._data.initS=s,i._data.initY=l,this.coverflow._currentItemOver=i,this.coverflow.setTitle(i._data.title),TweenLite.set(i._data,{initX:0}),this.spreadTl=this.spread(i),this.spreadTl.progress(1),this.transitionTl=new TimelineLite({paused:!0}),this.transitionTl.add(this.coverflow.show,0),this.transitionTl.fromTo(i._data,a,{initY:l+m.a.height},{initY:l,ease:Power4.easeInOut},0),this.transitionTl.fromTo(this.coverflow.title,.9*a,{y:this.nextTitleY},{y:c,ease:Expo.easeInOut},0),this.transitionTl.fromTo(this.coverflow.title,.9*a,{color:"#FFFFFF"},{color:"#000000",ease:Expo.easeInOut},0),this.openTween=TweenLite.to(this.transitionTl,2*this.globalDur,{progress:1,ease:Power1.easeOut,onComplete:function(){}})):(this.transitionTl=new TimelineLite({paused:!0}),this.transitionTl.to(this.coverflow,a,{x:o,ease:Power4.easeInOut,onUpdate:this.coverflow.updateDom2},0),this.transitionTl.to(i._data,a,{initY:l,ease:Power4.easeInOut},n),this.transitionTl.to(i._data,a,{initS:s,ease:Power4.easeInOut},n),this.transitionTl.to(this.coverflow.title,.9*a,{y:c,ease:Expo.easeInOut},n+.33*a),this.transitionTl.to(this.coverflow.title,.9*a,{color:"#000000",ease:Expo.easeInOut},n+.33*a),this.transitionTl.to(this.coverflow.title,a,{scale:1,transformOrign:"50% 50%",ease:Power4.easeInOut},0),this.spreadTl=this.spread(i),this.transitionTl.add(this.spreadTl,.25+n),this.openTween=TweenLite.to(this.transitionTl,2*this.globalDur,{progress:1,ease:Power1.easeOut}))):(this.coverflow.x=o,this.coverflow.updateDom2(),i._data.initS=s,i._data.initY=l,this.coverflow._currentItemOver=i,this.coverflow.setTitle(i._data.title),TweenLite.set(this.coverflow.title,{y:c,color:"#000000"}),this.spreadTl=this.spread(i),this.spreadTl.progress(1))}},{key:"close",value:function(){var e=this;this.clearTransitionTl(),this.coverflow.isOpen=!1,this.currentProject&&(this.transitionTl=new TimelineLite({paused:!0}),this.coverflow.x<this.coverflow.boundX[0]?this.transitionTl.to(this.coverflow,this.globalDur,{x:this.coverflow.boundX[0],ease:Power4.easeInOut,onUpdate:this.coverflow.updateDom2},0):this.coverflow.x>this.coverflow.boundX[1]&&this.transitionTl.to(this.coverflow,this.globalDur,{x:this.coverflow.boundX[1],ease:Power4.easeInOut,onUpdate:this.coverflow.updateDom2},0),this.transitionTl.to(this.currentProject._data,this.globalDur,{initY:this.currentProject.initY,ease:Power2.easeInOut},0),this.transitionTl.to(this.currentProject._data,this.globalDur,{initS:this.currentProject.initS,ease:Power2.easeInOut},0),this.transitionTl.to(this.coverflow.title,.3*this.globalDur,{autoAlpha:0,ease:Power1.easeInOut},0),this.transitionTl.to(this.coverflow.title,.3*this.globalDur,{color:"#FFFFFF",ease:Power1.easeInOut},.1),this.spreadTl=this.spread(this.currentProject,!0),this.currentProject=void 0,this.coverflow.selectedProject=void 0,this.transitionTl.add(this.spreadTl,0),this.transitionTl.add(this.coverflow.enable,.7*this.globalDur),this.transitionTl.add(this.coverflow.resize,.7*this.globalDur),this.closeTween=TweenLite.to(this.transitionTl,this.globalDur,{progress:1,ease:Power1.easeOut,onComplete:function(){e.clearOpenTl()}}))}},{key:"selectNextProject",value:function(){this.reset();var e=this.currentProject._data.id+1;e>this.coverflow.items.length-1&&(e=0);var t=this.coverflow.items[e],i=m.a.centerX-t.rect.x-.5*t.rect.width;t.initY=t._data.initY,t.initS=t._data.initS,this.coverflow.x=i,this.coverflow.updateDom2(),TweenLite.set(this.coverflow.imagesHolder,{y:m.a.height}),this.spreadTl=this.spread(t),this.spreadTl.progress(1),this.currentProject=t}},{key:"slideUp",value:function(){this.selectNextProject();var e=new TimelineLite({paused:!1});e.fromTo(this.coverflow.imagesHolder,2,{y:m.a.height},{y:0,ease:Expo.easeInOut},0),e.add(this.close,.8)}},{key:"spread",value:function(e,t){for(var i=1<arguments.length&&void 0!==t&&t,o=new TimelineLite({paused:!1,onComplete:function(){}}),n=0;n<this.coverflow.items.length;n++){var r=this.coverflow.items[n],a=n-e._data.id,s=a<0?.85*-m.a.centerX+200*a:.85*m.a.centerX+200*a,l=0;i&&(s=0,l=.1*Math.abs(a)),n!=e._data.id&&o.to(r._data,+this.globalDur,{initX:s,initY:0,initS:1,ease:Power4.easeInOut},0*l)}return this._tlToKill.push(o),o}},{key:"getProjectItem",value:function(e){for(var t=0;t<this.coverflow.items.length;t++){var i=this.coverflow.items[t];if(i.dataset.postId==e)return i}}},{key:"clearTransitionTl",value:function(){this._tlToKill.forEach((function(e){e.pause(),e.kill(),e.invalidate(),e=null})),this._tlToKill=[]}},{key:"clearOpenTl",value:function(){this.openTween&&(this.openTween.pause(),this.openTween.kill(),this.openTween.invalidate(),this.openTween=null)}},{key:"clearCloseTl",value:function(){this.closeTween&&(this.closeTween.pause(),this.closeTween.kill(),this.closeTween.invalidate(),this.closeTween=null)}}])&&ye(t.prototype,i),e}()).prototype,"openProject",[k.default],Object.getOwnPropertyDescriptor(de.prototype,"openProject"),de.prototype),ge(de.prototype,"close",[k.default],Object.getOwnPropertyDescriptor(de.prototype,"close"),de.prototype),ge(de.prototype,"clearOpenTl",[k.default],Object.getOwnPropertyDescriptor(de.prototype,"clearOpenTl"),de.prototype),ge(de.prototype,"clearCloseTl",[k.default],Object.getOwnPropertyDescriptor(de.prototype,"clearCloseTl"),de.prototype),de);function we(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}i(17);var _e=(be((me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bg=document.body,this.holder=document.querySelector(".coverflow"),this.dom=this.holder.querySelector(".coverflow-holder"),this.title=this.holder.querySelector(".coverflow__title"),this.titleSpan=this.title.querySelector(".coverflow__title-span"),this.titleHolder=this.holder.querySelector(".coverflow__title-holder"),this.imagesHolder=this.holder.querySelector(".coverflow__images"),this.items=Array.from(this.dom.querySelectorAll(".coverflow__image")),window.coverflow=this,Array.from(this.holder.querySelectorAll("a")).forEach((function(e){e.addEventListener("dragstart",(function(e){e.preventDefault()}))})),this.init()}var t,i;return t=e,(i=[{key:"init",value:function(){this.isOpen=!1,this.physics=!1,this.selectedProject=void 0,this._currentItemOver=void 0,this._resizeScale=1,this.x=0,this.xNull1=0,this.velX=0,this.velX2=0,this.velX3=0,this.lastX=0,this.easedX=0,this.easedX2=0,this.nullObject={scaleMaster:0,scaleFactor:.18,titleScale:.75},this._scaleTl=new TimelineLite({paused:!0}),this.frame=1,this.rect=this.dom.getBoundingClientRect(),this.rect.x=this.rect.left,this.rect.y=this.rect.top,this.boundX=[m.a.width-this.rect.width,0],this.impetus=new he({source:this.dom,update:this.updateDom,boundX:this.boundX,multiplier:1,friction:.94}),this.disable(),this.setRollOvers(),this.resize(),this.transitions=new ve(this)}},{key:"show",value:function(){this.holder.style.visibility="visible"}},{key:"hide",value:function(){this.holder.style.visibility="hidden"}},{key:"enable",value:function(){window.addEventListener("wheel",this.onMouseWheel,!1),this.dom.addEventListener("mousedown",this.onMouseDown,!1),this.enabled=!0,this.holder.classList.remove("disable")}},{key:"disable",value:function(){window.removeEventListener("wheel",this.onMouseWheel),this.enabled=!1,this.holder.classList.add("disable")}},{key:"reset",value:function(){this.hide(),this.isOpen=!1,this.transitions.reset()}},{key:"onMouseDown",value:function(){this.isDraging=!1,this._clickedPos=m.a.mouseX,this.dom.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1)}},{key:"onMouseMove",value:function(e){var t,i=m.a.mouseX-this._clickedPos;e.shiftKey&&this.sounds&&(t=120+(m.a.mouseX-.5*m.a.width)/m.a.width*200,this.sounds.bpm=t),2<Math.abs(i)&&!this.isDraging&&(this.isDraging=!0,this.holder.classList.add("grabbing"))}},{key:"onMouseUp",value:function(){var e=this;setTimeout((function(){e.isDraging=!1,e._scratching=!1}),300),this.dom.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.holder.classList.remove("grabbing")}},{key:"onMouseWheel",value:function(e){var t=this.x-2*e.deltaY;t>this.boundX[1]&&(t=this.boundX[1]),t<this.boundX[0]&&(t=this.boundX[0]),TweenLite.to(this,.5,{x:t,ease:Power3.easeOut,onUpdate:this.updateDom2})}},{key:"resize",value:function(){var e=this;this.fxLayer&&this.fxLayer.resize();var t,i,o,n,r,a,s=this.holder.getBoundingClientRect();s.x=s.left,s.y=s.top,this.items.forEach((function(t,i){var o=t.getBoundingClientRect();o.x=o.left,o.y=o.top,t.rect=o,t.rect.x=t.rect.x-e.x-s.x})),this.x,this.boundX[0],this.rect=this.dom.getBoundingClientRect(),this.rect.x=this.rect.left,this.rect.y=this.rect.top,this.boundX=[m.a.width-this.rect.width,0],this.impetus.setBoundX(this.boundX),this.isOpen&&(this.x=m.a.centerX-this.selectedProject.rect.x-.5*this.selectedProject.rect.width,t=this.selectedProject,(i=document.body.querySelector(".portfolio-cover")).rect=i.getBoundingClientRect(),i.rect.x=i.rect.left,i.rect.y=i.rect.top,o=i.rect.width/t.rect.width,n=i.rect.y+.5*i.rect.height-m.a.centerY,r=this.selectedProject.rect.x+.5*this.selectedProject.rect.width,r+=.5*-this.title.getBoundingClientRect().width,a=i.rect.y-.013*m.a.width,TweenLite.set(this.title,{x:r,y:a}),t._data.initS=o,t._data.initY=n),this.updateDom2()}},{key:"updateDom",value:function(e){var t=e;TweenLite.set(this.dom,{x:t}),this.x=t}},{key:"updateDom2",value:function(){var e;this.isDraging||(e=this.x,TweenLite.set(this.dom,{x:e}),this.impetus.setValues(e))}},{key:"update",value:function(){var e=this;TweenLite.to(this,.2,{velX:this.x-this.lastX,ease:Power4.easseOut}),TweenLite.to(this,.9,{velX2:this.x-this.lastX,ease:Power4.easseOut}),TweenLite.to(this,1.4,{velX3:this.x-this.lastX,ease:Power4.easseOut}),this.lastX=this.x,this._currentItemOver&&this.enabled&&this.setTitleY(),this.items.forEach((function(t,i){e.checkMouseOver(t);var o,n=e.nullObject.scaleMaster+t._data.initS;e.physics&&(n=e.nullObject.scaleMaster+(t._data.initS-.01*Math.abs(e.velX3))),n!=t._visuel.currentScale&&TweenLite.set(t._visuel,{scale:n,currentScale:n,force3D:!1}),e.physics&&(o=.2*e.velX-t._data.physR,t._data.rp=t._data.rp*t._data.b+o*t._data.k,t._data.physR+=t._data.rp,TweenLite.set(t._visuelRot,{rotation:t._data.initR+t._data.physR,transformOrigin:"50% 5%"})),t._data.initX!=t._visuel.currentX&&TweenLite.set(t._visuel,{x:t._data.initX,currentX:t._data.initX}),t._data.initY!=t._visuel.currentY&&TweenLite.set(t._visuel,{y:t._data.initY,currentY:t._data.initY})})),this.frame++,this.fxLayer&&this.fxLayer.update()}},{key:"checkMouseOver",value:function(e){var t,i;!this.isDraging&&this.enabled&&(t=this.x+e.rect.x,i=e.rect.y,m.a.mouseX>t&&m.a.mouseX<t+e.rect.width&&m.a.mouseY>i&&m.a.mouseY<i+e.rect.height&&e!=this._currentItemOver&&(null!=this._currentItemOver&&this.onRollOut(this._currentItemOver),this.onRollOver(e)))}},{key:"setRollOvers",value:function(){var e=this;this.items.forEach((function(t,i){var o=t.querySelector(".coverflow__image-title");t._data={id:i,color:t.style.backgroundColor,title:o.innerHTML,link:t.dataset.link,initX:0,initY:0,initR:0,physR:0,initS:1,k:.05+.02*(Math.random()-.5),b:.9+.02*(Math.random()-.5),rp:0},t._coverflow=e,t._titleDom=o,t._overlay=t.querySelector(".coverflow__image-overlay"),t._visuel=t.querySelector(".coverflow__image-bg_container"),t._visuelRot=t.querySelector(".coverflow__image-bg_container-rot"),t._img=t.querySelector(".coverflow__image-bg"),t._visuel.currentX=0,t._visuel.currentY=0,t._visuel.currentScale=1,t.style.backgroundColor="",TweenLite.fromTo(t,0,{scale:0},{scale:1}),t.addEventListener("mouseenter",e.onRollOver),t.addEventListener("mouseleave",e.onRollOut),t.addEventListener("click",e.onClick)}))}},{key:"setTitle",value:function(e){this.titleSpan.textContent=e,this.title.rect=coverflow.title.getBoundingClientRect(),this.title.x=this.title.left,this.title.y=this.title.top,this.title._currentPos=void 0;var t=this._currentItemOver.rect.x+.5*this._currentItemOver.rect.width;this.sounds&&this.sounds.isPlaying?TweenLite.set(this.title,{x:t}):TweenLite.set(this.title,{x:t,color:"#FFFFFF"}),TweenLite.to(coverflow.title,0,{autoAlpha:1,ease:Power4.easeOut,overwrite:"all"})}},{key:"setTitleY",value:function(e){var t=0<arguments.length&&void 0!==e?e:.5,i=m.a.mouseY-34,o=this._currentItemOver.rect.y-16+this._currentItemOver.rect.height;o<i&&(i=o);var n=this._currentItemOver.rect.y-5;i<n&&(i=n),TweenLite.to(this.title,t,{y:i,ease:Power4.easeOut})}},{key:"onRollOver",value:function(e){var t=e.target?e.target:e,i=t._coverflow;i.enabled&&(i.isDraging||(i._currentItemOver=t,i.sounds&&i.sounds.isPlaying||i.setBackgroundColor(t._data.color),i.setTitle(t._data.title),i.setTitleY(0),TweenLite.set(i.title,{scale:i.nullObject.titleScale,transformOrign:"50% 50%"})))}},{key:"onRollOut",value:function(e){var t=(e.target?e.target:e)._coverflow;t.enabled&&(t.isDraging||TweenLite.to(t.title,.2,{delay:.1,autoAlpha:0,ease:Power4.easeOut}))}},{key:"onClick",value:function(){var e=this._coverflow;e.enabled&&(e.isDraging||(e.disable(),this._currentItemOver=void 0))}},{key:"setBackgroundColor",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;this._bgColor!=e&&(i?TweenLite.to(this.bg,2,{backgroundColor:e,ease:Power2.easeOut}):TweenLite.set(this.bg,{backgroundColor:e}),this._bgColor=e)}},{key:"loadAssets",value:function(){var e=this;console.log("Loading assets..."),WebFont.load({active:function(){},custom:{families:["Main Bold"]}}),this.loader=new PIXI.loaders.Loader;var t=PIXI.loaders.Resource;t.setExtensionLoadType("m4a",t.LOAD_TYPE.XHR),t.setExtensionXhrType("m4a",t.XHR_RESPONSE_TYPE.BUFFER),this.loader.add("midiEvents",templateUrl+"/library/media/events.mid"),this.loader.add("midiScenes",templateUrl+"/library/media/scenes.mid"),this.loader.add("audioTrack",templateUrl+"/library/media/dqc_120.m4a"),this.items.forEach((function(t,i){var o=t.querySelector(".coverflow__image-bg");e.loader.add("img"+i,o.dataset.lowres)})),this.loader.load((function(t,i){console.log("Assets loaded"),e.initSong()}))}},{key:"initSong",value:function(){this.musicBtn=document.body.querySelector(".konami__btn"),this.musicBtn.addEventListener("click",this.startSounds),this.musicBtn.style.display="block",this.fxLayer=new ue(this),this.song=new $,this.sounds=new ae(this),this.physics=!0}},{key:"startSounds",value:function(e){this.isFirstStartAudio?e.ctrlKey?e.shiftKey?this.sounds.rewind(!0):this.sounds.rewind():this.sounds.pause():(this.isFirstStartAudio=!0,this.sounds.start())}}])&&we(t.prototype,i),e}()).prototype,"show",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"show"),me.prototype),be(me.prototype,"hide",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"hide"),me.prototype),be(me.prototype,"enable",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"enable"),me.prototype),be(me.prototype,"disable",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"disable"),me.prototype),be(me.prototype,"reset",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"reset"),me.prototype),be(me.prototype,"onMouseDown",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"onMouseDown"),me.prototype),be(me.prototype,"onMouseMove",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"onMouseMove"),me.prototype),be(me.prototype,"onMouseUp",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"onMouseUp"),me.prototype),be(me.prototype,"onMouseWheel",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"onMouseWheel"),me.prototype),be(me.prototype,"resize",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"resize"),me.prototype),be(me.prototype,"updateDom",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"updateDom"),me.prototype),be(me.prototype,"updateDom2",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"updateDom2"),me.prototype),be(me.prototype,"update",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"update"),me.prototype),be(me.prototype,"startSounds",[k.default],Object.getOwnPropertyDescriptor(me.prototype,"startSounds"),me.prototype),me);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e,t,i){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i(5);var xe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(o,q);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,r=Oe(e);return o=this,!(n=t?(i=Oe(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments))||"object"!==ke(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.apply(this,arguments),o.header||(o.header=new G),o.footer||(o.footer=new Z),o.coverflow||m.a.isMobile||(o.coverflow=new _e),n.lazyLoad=new LazyLoad({elements_selector:".lazy",thresholds:"50% 50%"}),m.a.isMobile,n}return e=o,(t=[{key:"init",value:function(){Te(Oe(o.prototype),"init",this).call(this),this._previousPage&&(this.scrollable.y=0),this._bgColor="#EEEEEE"}},{key:"resize",value:function(){Te(Oe(o.prototype),"resize",this).call(this),o.coverflow&&o.coverflow.resize()}},{key:"update",value:function(){Te(Oe(o.prototype),"update",this).call(this),this.coverflow&&this.coverflow.update()}},{key:"_show",value:function(){this.scrollable.y=0,this._shown(),m.a.isMobile?TweenLite.fromTo(this.scrollable.dom,1,{autoAlpha:0},{autoAlpha:1,ease:Power2.easeInOut}):"index"==this.id?this._previousPage?"single"==this._previousPage.id?this._previousPage.scrollable.scrollRatio<.87?this._previousPage.scrollOutUp():(this._previousPage.scrollOutDown(),this.coverflow.transitions.slideUp()):(this.coverflow.show(),this.coverflow.enable()):this.coverflow.transitions.intro():"single"==this.id?this._previousPage?"single"==this._previousPage.id&&this._previousPage.scrollOutDown():(this.coverflow.disable(),this.coverflow.show()):(this.coverflow.disable(),this._previousPage||this.coverflow.hide())}},{key:"_hide",value:function(){this._previousPage&&(this._previousPage.transition&&this._previousPage.transition.kill(),this._previousPage.destroy()),TweenLite.set(this.dom,{autoAlpha:0}),setTimeout(this._hidden.bind(this),10)}},{key:"header",get:function(){if(o.header)return o.header}},{key:"footer",get:function(){if(o.footer)return o.footer}},{key:"coverflow",get:function(){if(o.coverflow)return o.coverflow}}])&&Pe(e.prototype,t),o}()},function(e,t,i){var o;
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */!function(){function n(e,t,i,o,n){this._listener=t,this._isOnce=i,this.context=o,this._signal=e,this._priority=n||0}function r(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function a(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){a.prototype.dispatch.apply(e,arguments)}}n.prototype={active:!0,params:null,execute:function(e){var t,i;return this.active&&this._listener&&(i=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,i),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},a.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,o){var r,a=this._indexOfListener(e,i);if(-1!==a){if((r=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n(this,e,t,i,o),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){for(var t=this._bindings.length;--t,this._bindings[t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,o=this._bindings.length;o--;)if((i=this._bindings[o])._listener===e&&i.context===t)return o;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return r(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return r(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){r(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,i=Array.prototype.slice.call(arguments),o=this._bindings.length;if(this.memorize&&(this._prevParams=i),o)for(t=this._bindings.slice(),this._shouldPropagate=!0;t[--o]&&this._shouldPropagate&&!1!==t[o].execute(i););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=a;s.Signal=a,void 0===(o=function(){return s}.call(t,i,t,e))||(e.exports=o)}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){var e,t,i;"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),window.addEventListener("testPassiveEventSupport",i=function(){},t),window.removeEventListener("testPassiveEventSupport",i,t),o.hasSupport=e)}};o.update(),t.default=o},function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var o=i(6);i(7);var n,r={pages:{default:{class:i(2)},single:{class:i(18)},about:{class:i(19)}}},a=i(1),s=i(11),l=i.n(s);function c(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var h=(u((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._router=new o.a,this.init()}var t,i;return t=e,(i=[{key:"init",value:function(){this._content=document.getElementById("container");var t=this._content.children,i=t[t.length-1];e.currentId=i.getAttribute("id"),this._router.changed.add(this._onStateChange.bind(this)),this._ajaxify(i)}},{key:"update",value:function(){this._popin&&this._popin.update(),this._page&&this._page.update(),this._previousPage&&this._previousPage.update()}},{key:"resize",value:function(){this._popin&&this._popin.resize(),this._page&&this._page.resize(),this._previousPage&&this._previousPage.resize()}},{key:"_ajaxify",value:function(t,i){var o=r.pages[e.currentId]?r.pages[e.currentId].class:r.pages.default.class;i||(this._previousPage=this._page);var n=new o.default(t,this._page);n.init(),n.shown.add(this._onPageShown),i?(this._popin=n,this._popin.hidden.add(this._onPopinHidden)):(this._page=n,this._previousPage&&(this._previousPage.hidden.add(this._onPageHidden),this._previousPage.hide(this._page),window.scrollTo(0,0))),n.show()}},{key:"_setContent",value:function(t,i){var n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("#container"),a=r.children[r.children.length-1];this._content.appendChild(a);var s=n.querySelector("title");e.currentId=a.getAttribute("id"),o.a.setTitle(s.innerText),this._ajaxify(a,i)}},{key:"_onStateChange",value:function(e){var t=this;this._page&&this._page.scrollable&&(this._page.scrollable.scrollLocked=!0),this._xhr&&this._xhr.abort(),document.body.classList.add("loading"),this._xhr=l()().get(this._router.url),this._xhr.then((function(i){t._setContent(i,e&&e.popin)})),this._xhr.always((function(){document.body.classList.remove("loading"),t._router.locked=!0,t._xhr=null}))}},{key:"_onPageHidden",value:function(){this._page.isShown&&this._previousPage&&(this._previousPage.isDestroyed||this._previousPage.destroy(),this._previousPage=null,this._router.locked=!1)}},{key:"_onPopinHidden",value:function(){this._popin.destroy(),this._popin=null}},{key:"_onPageShown",value:function(){this._previousPage&&this._previousPage.isHidden&&(this._previousPage.isDestroyed||this._previousPage.destroy(),this._previousPage=null,this._router.locked=!1)}}])&&c(t.prototype,i),e}()).prototype,"_onPageHidden",[a.default],Object.getOwnPropertyDescriptor(n.prototype,"_onPageHidden"),n.prototype),u(n.prototype,"_onPopinHidden",[a.default],Object.getOwnPropertyDescriptor(n.prototype,"_onPopinHidden"),n.prototype),u(n.prototype,"_onPageShown",[a.default],Object.getOwnPropertyDescriptor(n.prototype,"_onPageShown"),n.prototype),n)},function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return y}));var o,n=i(3),r=i.n(n),a=i(8),s=i.n(a);function l(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}i(13);var c,u,h,d,p,f,y=(c=(o=function(){function e(){var t,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.changed=new r.a,this.hashChanged=new r.a,t=window.history,i=t.pushState,t.pushState=function(e,o,n){e.url=n;var r=new CustomEvent("popstate",{detail:e}),a=i.apply(t,arguments);return e.prevent||window.dispatchEvent(r),a},s()(document.body,"a:not([target])","click",this._onClickLink.bind(this)),window.addEventListener("popstate",this._onPopState),window.addEventListener("pushstate",this._onPopState),this.parser=document.createElement("a"),this.url=this._sanitizeUrl(window.location.href),this.origin=window.location.origin,window.location.hash&&requestAnimationFrame((function(){o.hashChanged.dispatch(window.location.hash)}))}var t,i,o;return t=e,o=[{key:"setTitle",value:function(e){document.title=e}},{key:"setCurrentId",value:function(t){e.currentId=t}}],(i=[{key:"_sanitizeUrl",value:function(e){return""!==window.location.hash&&(e=e.replace(window.location.hash,"")),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e}},{key:"_onClickLink",value:function(e){if(1!==e.button){if(e.preventDefault(),window.main._pageManager._page.coverflow&&window.main._pageManager._page.coverflow.isDraging)return;var t=e.delegateTarget;this.parser.href=t.getAttribute("href");var i="";"/"!==this.parser.pathname[0]&&(i="/");var o=this.origin+i+this.parser.pathname+this.parser.search+this.parser.hash,n="true"===t.getAttribute("data-prevent"),r="true"===t.getAttribute("data-popin");history.pushState({prevented:n,popin:r},null,o)}}},{key:"_onPopState",value:function(e){var t=e.detail,i=this._sanitizeUrl(window.location.href);this.url!==i?(this.url=i,window.ga&&ga("send","pageview"),t&&t.prevented||this.changed.dispatch(t)):this.hash!==window.location.hash&&(t&&t.prevented||this.hashChanged.dispatch(window.location.hash)),this.hash=window.location.hash}}])&&l(t.prototype,i),o&&l(t,o),e}()).prototype,u="_onPopState",h=[e],d=Object.getOwnPropertyDescriptor(o.prototype,"_onPopState"),p=o.prototype,f={},Object.keys(d).forEach((function(e){f[e]=d[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=h.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),f),p&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(p):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(c,u,f),f=null),o)}).call(this,i(1).default)},function(e,t,i){},function(e,t,i){var o=i(12);function n(e,t,i,n,r){var a=function(e,t,i,n){return function(i){i.delegateTarget=o(i.target,t),i.delegateTarget&&n.call(e,i)}}.apply(this,arguments);return e.addEventListener(i,a,r),{destroy:function(){e.removeEventListener(i,a,r)}}}e.exports=function(e,t,i,o,r){return"function"==typeof e.addEventListener?n.apply(null,arguments):"function"==typeof i?n.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return n(e,t,i,o,r)})))}},function(e,t,i){"use strict";var o=e.exports=function(){};o.vendors={Webkit:"webkit",Moz:"moz",O:"o"},o.prefix="",o.init=function(){o.setPrefix()},o.setPrefix=function(){var e=document.createElement("div");if(void 0!==e.style.transitionProperty)o.prefix="";else for(var t in o.vendors)if(void 0!==e.style[t+"TransitionProperty"])return o.prefix="-"+t.toLowerCase()+"-",!1;e=null},o.transform=function(e,t){e&&(e.style.transform||(e.style.transform=e.style.webkitTransform||e.style.mozTransform),e.style.transform=t)},o.transformOrigin=function(e,t){e&&(e.style.transformOrigin||(e.style.transformOrigin=e.style.webkitTransformOrigin||e.style.mozTransformOrigin),e.style.transformOrigin=t)},o.transition=function(e,t){e&&(e.style.transition||(e.style.transition=e.style.webkitTransition||e.style.mozTransition),e.style.transition=t)},o.getMatrix=function(e){var t=window.getComputedStyle(e,null),i=t.getPropertyValue("transform")||t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform"),o=[];return/^\w*\((((\d+)|(\d*\.\d+)),\s*)*((\d+)|(\d*\.\d+))\)/i.test(i)&&(o=i.replace(/^\w*\(/,"").replace(")","").split(/\s*,\s*/)),o}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(i(14)),n=s(i(15)),r=s(i(16)),a=s(i(4));function s(e){return e&&e.__esModule?e:{default:e}}var l={state:{detectHover:o.default,detectPointer:n.default,detectTouchEvents:r.default,detectPassiveEvents:a.default},update:function(){l.state.detectHover.update(),l.state.detectPointer.update(),l.state.detectTouchEvents.update(),l.state.detectPassiveEvents.update(),l.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){var e,t,i,o,n;"undefined"!=typeof window&&(l.passiveEvents=l.state.detectPassiveEvents.hasSupport||!1,l.hasTouch=l.state.detectTouchEvents.hasSupport||!1,l.deviceType=(t=l.hasTouch,i=l.state.detectHover.anyHover,o=l.state.detectPointer.anyFine,n=l.state,t&&(i||o)?"hybrid":t&&Object.keys(n.detectHover).filter((function(e){return"update"!==e})).every((function(e){return!1===n.detectHover[e]}))&&Object.keys(n.detectPointer).filter((function(e){return"update"!==e})).every((function(e){return!1===n.detectPointer[e]}))?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":t?"touchOnly":"mouseOnly"),l.hasMouse="touchOnly"!==l.deviceType,l.primaryInput=("mouseOnly"===l.deviceType?"mouse":"touchOnly"===l.deviceType&&"touch")||l.state.detectPointer.fine&&"mouse"||l.state.detectPointer.coarse&&"touch"||"mouse",/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&59<=(e=parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10))&&e<62&&l.hasTouch&&(l.deviceType="hybrid",l.hasMouse=!0,l.primaryInput="mouse"))}};l.updateOnlyOwnProperties(),t.default=l},function(e,t,i){var o,n;
/**!
 * ajax - v2.3.3
 * Ajax module in Vanilla JS
 * https://github.com/fdaciuk/ajax

 * Tue Sep 18 2018 12:44:02 GMT-0300 (-03)
 * MIT (c) Fernando Daciuk
*/!function(){"use strict";void 0===(n="function"==typeof(o=function(){function e(e){return e||null}function t(e,t,r,s){var l=["then","catch","always"].reduce((function(e,t){return e[t]=function(i){return e[t]=i,e},e}),{}),c=new XMLHttpRequest,u=i(t,r,e);return c.open(e,u,!0),c.withCredentials=s.hasOwnProperty("withCredentials"),o(c,s.headers,r),c.addEventListener("readystatechange",n(l,c),!1),c.send(a(r)?JSON.stringify(r):r),l.abort=function(){return c.abort()},l}function i(e,t,i){if("get"!==i.toLowerCase()||!t)return e;var o=function(e){return a(e)?function e(t,i){return Object.keys(t).map((function(o){if(t.hasOwnProperty(o)&&void 0!==t[o]){var n=t[o];return o=i?i+"["+o+"]":o,null!==n&&"object"==typeof n?e(n,o):s(o)+"="+s(n)}})).filter(Boolean).join("&")}(e):e}(t),n=e.indexOf("?")>-1?"&":"?";return e+n+o}function o(e,t,i){(function(e){return Object.keys(e).some((function(e){return"content-type"===e.toLowerCase()}))})(t=t||{})||(t["Content-Type"]=a(i)?"application/json":"application/x-www-form-urlencoded"),Object.keys(t).forEach((function(i){t[i]&&e.setRequestHeader(i,t[i])}))}function n(e,t){return function i(){t.readyState===t.DONE&&(t.removeEventListener("readystatechange",i,!1),e.always.apply(e,r(t)),t.status>=200&&t.status<300?e.then.apply(e,r(t)):e.catch.apply(e,r(t)))}}function r(e){var t;try{t=JSON.parse(e.responseText)}catch(i){t=e.responseText}return[t,e]}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return encodeURIComponent(e)}return function(i){return(i=i||{}).baseUrl=i.baseUrl||"",i.method&&i.url?t(i.method,i.baseUrl+i.url,e(i.data),i):["get","post","put","delete"].reduce((function(o,n){return o[n]=function(o,r){return t(n,i.baseUrl+o,e(r),i)},o}),{})}})?o.call(t,i,t,e):o)||(e.exports=n)}()},function(e,t){var i;"undefined"==typeof Element||Element.prototype.matches||((i=Element.prototype).matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector),e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){function t(e,t){var i,o;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(i=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=i.preventDefault,i.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},i}t.prototype=window.Event.prototype,window.CustomEvent=t}}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(o.hover=window.matchMedia("(hover: hover)").matches,o.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,o.anyHover=window.matchMedia("(any-hover: hover)").matches,o.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};o.update(),t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(o.fine=window.matchMedia("(pointer: fine)").matches,o.coarse=window.matchMedia("(pointer: coarse)").matches,o.none=window.matchMedia("(pointer: none)").matches,o.anyFine=window.matchMedia("(any-pointer: fine)").matches,o.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,o.anyNone=window.matchMedia("(any-pointer: none)").matches)}};o.update(),t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={update:function(){"undefined"!=typeof window&&(o.hasSupport="ontouchstart"in window,o.browserSupportsApi=Boolean(window.TouchEvent))}};o.update(),t.default=o},function(e,t,i){var o,n,r;n=[],void 0===(r="function"==typeof(o=function(){var e=function(e,t){this._dragged=!1,this._element=e,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,t),e.addEventListener("touchstart",this._bindedEnd),e.addEventListener("touchmove",this._bindedMove),e.addEventListener("touchend",this._bindedEnd),e.addEventListener("mouseup",this._bindedEnd)};function t(e){return"running"===e.state}return e.prototype._moved=function(e){this._dragged=!0},e.prototype._ended=function(e){var t,i,o;this._dragged||(i=(t=e).createBuffer(1,1,t.sampleRate),(o=t.createBufferSource()).buffer=i,o.connect(t.destination),o.start(0),t.resume&&t.resume()),this._dragged=!1},e.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(i,o,n){var r=new Promise((function(e){var o,n;n=e,(t(o=i)?n:function e(){t(o)?n():(requestAnimationFrame(e),o.resume&&o.resume())})()})),a=[];return function t(i,o,n){var r;if(Array.isArray(i)||NodeList&&i instanceof NodeList)for(var a=0;a<i.length;a++)t(i[a],o,n);else"string"==typeof i?t(document.querySelectorAll(i),o,n):i.jquery&&"function"==typeof i.toArray?t(i.toArray(),o,n):Element&&i instanceof Element&&(r=new e(i,n),o.push(r))}(o=o||document.body,a,i),r.then((function(){for(var e=0;e<a.length;e++)a[e].dispose();a=null,n&&n()})),r}})?o.apply(t,n):o)||(e.exports=r)},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return u}));var o=i(0),n=i(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,n.default);var e,t,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,a=c(e);return o=this,!(n=t?(i=c(this).constructor,Reflect.construct(a,arguments,i)):a.apply(this,arguments))||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}(u);function u(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e,t)}return e=u,(t=[{key:"init",value:function(){s(c(u.prototype),"init",this).call(this);var e=this.dom.querySelector(".portfolio-content");this._bgColor=e.style.backgroundColor,this._bgColor||(this._bgColor=window.getComputedStyle(e,null).getPropertyValue("background-color"));var t=this.dom.querySelector(".portfolio-next-cover");this.nextPostColor=window.getComputedStyle(t,null).getPropertyValue("background-color"),o.a.isMobile?this.coverflow&&this.coverflow.sounds&&this.initSoundAnimations():(e.style.background="none",this.setScrollAnims(),this.setNextOver())}},{key:"destroy",value:function(){s(c(u.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){s(c(u.prototype),"resize",this).call(this),this.delScrollAnims()}},{key:"update",value:function(){s(c(u.prototype),"update",this).call(this),o.a.isMobile||(this._isOverNext&&this.isShown&&this.setNextTitleY(),this.coverflow.sounds&&(n.default.coverflow.fxLayer.scrollSpeed=this.scrollable.scrollVel))}},{key:"setNextTitleY",value:function(e){var t=0<arguments.length&&void 0!==e?e:.5;this.nextBtn.rect=this.nextBtn.getBoundingClientRect(),this.nextBtn.rect.x=this.nextBtn.rect.left,this.nextBtn.rect.y=this.nextBtn.rect.top;var i=o.a.mouseY-this.nextBtn.rect.y-.027*o.a.height,n=this.nextBtn.rect.height-.013*o.a.height;n<i&&(i=n);var r=.013*-o.a.height;i<r&&(i=r),TweenLite.to(this.nextTitle,t,{y:i,ease:Power4.easeOut})}},{key:"setNextOver",value:function(){var e=this;this.nextBtn=this.dom.querySelector(".portfolio-next-mask"),this.nextTitle=this.nextBtn.querySelector(".portfolio-next-title span"),TweenLite.set(this.nextTitle,{autoAlpha:0}),this.nextBtn.addEventListener("mouseenter",(function(t){e._isOverNext=!0,e.setNextTitleY(0),TweenLite.set(e.nextTitle,{autoAlpha:1})})),this.nextBtn.addEventListener("mouseleave",(function(t){e.isShown&&(e._isOverNext=!1,TweenLite.to(e.nextTitle,.2,{autoAlpha:0,ease:Power4.easeOut}))}))}},{key:"_show",value:function(){s(c(u.prototype),"_show",this).call(this),o.a.isMobile||(this.coverflow.setBackgroundColor(this._bgColor,!1),this.coverflow.transitions.openProject(this))}},{key:"_hide",value:function(){o.a.isMobile&&s(c(u.prototype),"_hide",this).call(this)}},{key:"scrollOutUp",value:function(){this.transTL=new TimelineLite({paused:!0});var e=6*this._scrollTL.progress();1.5<e&&(e=1.5),this.transTL.to(this._scrollTL,e,{progress:0,ease:Power3.easeInOut,onComplete:this._hidden.bind(this)},0),this.transTL.add(this.coverflow.transitions.close,.7*e),this.transitionTween=TweenLite.to(this.transTL,e,{progress:1,ease:Power0.easeOut})}},{key:"scrollOutDown",value:function(){var e=this.dom.querySelector(".portfolio-next-title span"),t=e.getBoundingClientRect();t.x=t.left,t.y=t.top,this.coverflow.transitions.nextTitleY=t.top+.3*t.height,TweenLite.set(e,{autoAlpha:0}),this.transTL=new TimelineLite({paused:!0});var i=this.dom.querySelector(".portfolio-next-mask");this.transTL.to(this._scrollTL,1,{progress:1,ease:Power1.easeIn},0),this.transTL.to(i,1,{y:-o.a.height,ease:Power4.easeIn,onComplete:this._hidden.bind(this)},0),this.transitionTween=TweenLite.to(this.transTL,1,{progress:1,ease:Power0.easeOut})}},{key:"delScrollAnims",value:function(){this._scrollTL&&(this._scrollTL.pause(),this._scrollTL.kill(),this._scrollTL.invalidate(),this._scrollTL=null,this.setScrollAnims())}},{key:"setScrollAnims",value:function(){var e,t,i,r,a,s,l,c,u,h,d;o.a.isMobile||(this._scrollTL=new TimelineLite({paused:!0}),e=this._scrollTL,t=o.a.height/(this.scrollable.pageHeight-o.a.height),(i=this.dom.querySelector(".portfolio-cover").getBoundingClientRect()).x=i.left,i.y=i.top,i.y,i.height,o.a.height,i.height,this.scrollable.pageHeight,o.a.height,this.dom.querySelector(".portfolio-title span"),r=this.dom.querySelector(".portfolio-background"),a=this.dom.querySelector(".portfolio-infos-wrapper"),s=this.dom.querySelector(".portfolio-gallery"),l=this.dom.querySelector(".portfolio-gallery__col-2"),c=this.dom.querySelector(".portfolio-next"),TweenLite.set(n.default.coverflow.imagesHolder,{y:0}),e.fromTo(n.default.coverflow.imagesHolder,2*t,{y:0},{y:-i.y-i.height-20,ease:Power1.easeIn},0),e.fromTo(n.default.coverflow.titleHolder,1.5*t,{y:0},{y:-o.a.height,ease:Power2.easeIn},.05*t),(u=a.getBoundingClientRect()).x=u.left,u.y=u.top,h=a.querySelector(".portfolio-infos"),TweenLite.set(h,{y:o.a.height-u.y-u.height}),e.fromTo(a,1.6*t,{y:0},{y:1.5*-o.a.height,ease:Power1.easeIn},1.15*t),e.fromTo(a,.3*t,{autoAlpha:0},{autoAlpha:1,ease:Power1.easeInOut},1.2*t),e.fromTo(s,1-.9*t,{y:0},{y:o.a.height-this.scrollable.pageHeight,ease:Power0.easeIn},t),e.fromTo(c,3*t,{y:0},{y:o.a.height-this.scrollable.pageHeight,ease:Power1.easeOut},1-2.23*t),e.fromTo(l,1,{y:.2*o.a.width},{y:.3*-o.a.width,ease:Power0.easeInOut},0),r.style.height="100vh",e.fromTo(r,2*t,{y:0},{y:-o.a.height,ease:Power1.easeOut},0),e.to(r,1.3*t,{y:2*-o.a.height,ease:Power1.easeInOut},1-1.33*t),e.fromTo(this,t,{backgroundColor:this._bgColor},{backgroundColor:this.nextPostColor,ease:Power2.easeInOut},1-t),(d=this.scrollable.y/(this.scrollable.pageHeight-o.a.height))<=1&&(this._scrollTL.progress(d),this.coverflow.show()))}},{key:"initSoundAnimations",value:function(){var e=this.dom.querySelectorAll("img");this.coverflow.sounds.animations.initDancingImages(e)}},{key:"backgroundColor",set:function(e){this._backgroundColor=e,n.default.coverflow.isPlaying||TweenLite.set(document.body,{backgroundColor:e})},get:function(){return this._backgroundColor}}])&&a(e.prototype,t),u}()},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return h}));var o=i(0),n=i(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o,n,a=u(e);return o=this,!(n=t?(i=u(this).constructor,Reflect.construct(a,arguments,i)):a.apply(this,arguments))||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,n.default);var e,t,i=c(r);function r(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(o=i.call(this,e,t)).holder=o.dom.querySelector(".page-about-wrapper"),o.pageDom=o.dom.querySelector(".page-about"),o}return e=r,(t=[{key:"init",value:function(){s(u(r.prototype),"init",this).call(this),o.a.isMobile||this.setScrollAnims()}},{key:"destroy",value:function(){s(u(r.prototype),"destroy",this).call(this)}},{key:"resize",value:function(){s(u(r.prototype),"resize",this).call(this),this.delScrollAnims()}},{key:"update",value:function(){s(u(r.prototype),"update",this).call(this)}},{key:"delScrollAnims",value:function(){this._scrollTL&&(this._scrollTL.kill(),this._scrollTL.pause(0,!0),this._scrollTL.invalidate(),this._scrollTL=null,this.setScrollAnims())}},{key:"_show",value:function(){var e=this;if(s(u(r.prototype),"_show",this).call(this),this._previousPage){if(TweenLite.to(n.default.header.menuItems,.5,{color:"#FFFFFF",delay:.5}),o.a.isMobile)return;var t=new TimelineLite({paused:!0}),i=new TimelineLite({paused:!0});i.fromTo(this._previousPage.dom,1,{x:0},{x:.5*-o.a.width,ease:Power4.easeInOut},0),i.fromTo(this.coverflow.holder,1,{x:0},{x:.5*-o.a.width,ease:Power4.easeInOut},0),i.fromTo(this.holder,1,{x:o.a.width},{x:0,ease:Power4.easeInOut},0),t.to(i,1,{progress:1,ease:Power1.easeOut},0);var a=this.dom.querySelector(".page-about_title-line1"),l=this.dom.querySelector(".page-about_title-line2"),c=this.dom.querySelector(".page-about_title-line3");TweenLite.set(a,{marginLeft:"6.3vw",letterSpacing:"15.8vw"}),TweenLite.set(l,{marginLeft:"50vw",letterSpacing:"4.9vw"}),TweenLite.set(c,{letterSpacing:"9.1vw"});var h=Power3.easeInOut;t.to(a,.7,{marginLeft:"25vw",letterSpacing:0,ease:h},0),t.to(l,.7,{marginLeft:"43.75vw",letterSpacing:0,ease:h},0),t.to(c,.7,{letterSpacing:0,ease:h},0),this.coverflow.sounds&&(t.to(this.coverflow.sounds,1,{bpm:80,ease:Power1.easeOut},0),t.to(this.coverflow.sounds.lowpass.frequency,.45,{value:600,ease:Power1.easeOut},0)),this.transition=TweenLite.to(t,2.5,{progress:1,ease:Power0.easeOut,onComplete:function(){TweenLite.set(document.body,{backgroundColor:"#000000"}),e.coverflow.hide(),e._previousPage&&"single"==e._previousPage.id&&e._previousPage._hidden()}})}else TweenLite.set(document.body,{backgroundColor:"#000000"}),TweenLite.set(n.default.header.menuItems,{color:"#FFFFFF"})}},{key:"_hide",value:function(){if(TweenLite.set(document.body,{backgroundColor:"#EEEEEE"}),o.a.isMobile)return TweenLite.set(n.default.header.menuItems,{color:"#000000"}),void s(u(r.prototype),"_hide",this).call(this);this.transition&&this.transition.kill(),this._previousPage&&"single"==this._previousPage.id&&this._previousPage.destroy(),this.coverflow.reset();var e=new TimelineLite({paused:!0}),t=new TimelineLite({paused:!0});t.fromTo(this.coverflow.holder,1,{x:.5*o.a.width},{x:0,ease:Power4.easeInOut},0),t.to(this.holder,1,{x:-o.a.width,ease:Power4.easeInOut},0),t.to(this.pageDom,1,{x:.5*o.a.width,ease:Power4.easeInOut},0),e.to(t,1,{progress:1,ease:Power1.easeOut},0),this.coverflow.sounds&&(e.to(this.coverflow.sounds,1,{bpm:120,ease:Power2.easeOut},0),e.to(this.coverflow.sounds.lowpass.frequency,.5,{value:22e3,ease:Power2.easeIn},0)),this.transition=TweenLite.to(e,2,{progress:1,ease:Power0.easeOut,onComplete:this._hidden.bind(this)}),TweenLite.to(this.pageDom,.9,{alpha:.2,ease:Power3.easeInOut}),TweenLite.to(n.default.header.menuItems,.5,{color:"#000000",delay:.5})}},{key:"setScrollAnims",value:function(){this._scrollTL=new TimelineLite({paused:!0});var e=this._scrollTL;o.a.height,this.scrollable.pageHeight,o.a.height,e.fromTo(this.scrollable.dom,1,{y:0},{y:o.a.height-this.scrollable.pageHeight,ease:Power0.easeInOut},0),this.coverflow.sounds&&e.to(this.coverflow.sounds,1,{bpm:40,ease:Power0.easeInOut},0);var t=this.scrollable.y/(this.scrollable.pageHeight-o.a.height);t<=1&&this._scrollTL.progress(t)}}])&&a(e.prototype,t),r}()},function(e,t,i){"use strict";i.r(t);var o=i(5),n=i(0),r=i(1);function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s,l,c,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,i=[{key:"getCookie",value:function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),o=0;o<i.length;o++){for(var n=i[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}},{key:"setDblClick",value:function(e,t){e.callback=t,e.touchtime=0,e.addEventListener("click",(function(t){0!=e.touchtime&&(new Date).getTime()-e.touchtime<300?(e.touchtime=0,e.callback()):e.touchtime=(new Date).getTime()}))}},{key:"loadScript",value:function(e,t){var i,o=!1,n=document.createElement("script");n.type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){o||this.readyState&&"complete"!=this.readyState||(o=!0,t())},(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i)}}],null&&a(t.prototype,null),i&&a(t,i),e}();function h(e){return"function"==typeof e||"[object Function]"===s.call(e)}function d(e){var t,i=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(i,0),l)}function p(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,i,o,n){var r={};return Object.keys(o).forEach((function(e){r[e]=o[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,o){return o(e,t,i)||i}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Array.from||(Array.from=(s=Object.prototype.toString,l=Math.pow(2,53)-1,function(e,t,i){var o=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=1<arguments.length?t:void 0;if(void 0!==r){if(!h(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=i)}for(var a,s=d(o.length),l=h(this)?Object(new this(s)):new Array(s),c=0;c<s;)a=o[c],l[c]=r?void 0===n?r(a,c):r.call(n,a,c):a,c+=1;return l.length=s,l}));var y=(f((c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.codes=[{callBack:this.onKonami,code:"38384040373937396665"}],this.inputBuffer="",this.inputDelay=700,document.addEventListener("keydown",this.onInputs),this.sfx=new Audio(window.templateUrl+"/library/media/start.m4a"),window._isProd||this.loadXP()}var t,i;return t=e,(i=[{key:"onKonami",value:function(){this.isLocked||(this.isLocked=!0,this.sfx.volume=.33,this.sfx.play(),this.loadXP(),window.gtag&&window.gtag("event","find_konami"))}},{key:"loadXP",value:function(){u.loadScript(window.templateUrl+"/library/js/extra.js",this.onScriptsLoaded)}},{key:"onScriptsLoaded",value:function(){PIXI.utils.skipHello(),console.log("%c * Pixi.js v4.8.2 * ","background: #000; color: #FFF"),window.main._pageManager._page.footer.initKonami()}},{key:"onInputs",value:function(e){var t=this;clearTimeout(this.clearTimout),this.inputBuffer+=String(e.keyCode);var i=!1;this.codes.forEach((function(e){t.inputBuffer.includes(e.code)&&!e.isFound&&(t.clearInputs(),i=!0,e.isFound=!0,e.callBack())})),i||(this.clearTimout=setTimeout(this.clearInputs,this.inputDelay))}},{key:"clearInputs",value:function(){this.inputBuffer=""}}])&&p(t.prototype,i),e}()).prototype,"onKonami",[r.default],Object.getOwnPropertyDescriptor(c.prototype,"onKonami"),c.prototype),f(c.prototype,"onScriptsLoaded",[r.default],Object.getOwnPropertyDescriptor(c.prototype,"onScriptsLoaded"),c.prototype),f(c.prototype,"onInputs",[r.default],Object.getOwnPropertyDescriptor(c.prototype,"onInputs"),c.prototype),f(c.prototype,"clearInputs",[r.default],Object.getOwnPropertyDescriptor(c.prototype,"clearInputs"),c.prototype),c);function g(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Hello, this is js"),window._isProd=!0,CSSPlugin.defaultForce3D=!0,n.a.resize(),n.a.isMobile?(document.body.classList.add("isMobile"),document.body.querySelector(".coverflow").remove()):this.codeInput=new y,n.a.isTouch&&(document.body.classList.add("isTouch"),window.addEventListener("touchstart",n.a.onTouchStart),window.addEventListener("touchmove",n.a.onMouseMove)),window.addEventListener("mousemove",n.a.onMouseMove),window.addEventListener("resize",this._onResize.bind(this)),this._init()}var t,i;return t=e,(i=[{key:"_init",value:function(){this._pageManager=new o.a}},{key:"update",value:function(){this._pageManager&&this._pageManager.update()}},{key:"_onResize",value:function(){n.a.resize(),this._pageManager&&this._pageManager.resize()}}])&&g(t.prototype,i),e}();document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),window.main=new m,function e(){main.update(),window.requestAnimationFrame(e)}()}))}]);
